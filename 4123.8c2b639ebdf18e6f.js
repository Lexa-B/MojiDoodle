"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4123],{4123(O,C,d){d.d(C,{GlossaryPageModule:()=>w});var p=d(2200),v=d(4341),F=d(7343),f=d(8132),_=d(467),r=d(396),t=d(3664),j=d(6321);const h=(n,o)=>o.id;function G(n,o){1&n&&(t.j41(0,"div",5)(1,"p"),t.EFF(2,"No cards unlocked yet."),t.k0s(),t.j41(3,"p"),t.EFF(4,"Head to the Dashboard to start a lesson!"),t.k0s()())}function R(n,o){if(1&n&&(t.j41(0,"ion-item"),t.nrm(1,"div",14),t.j41(2,"ion-label")(3,"h3"),t.EFF(4),t.k0s(),t.j41(5,"p",15),t.EFF(6),t.k0s(),t.j41(7,"p",16),t.EFF(8),t.nI1(9,"date"),t.k0s()(),t.j41(10,"ion-note",17),t.EFF(11),t.k0s()()),2&n){const s=o.$implicit;t.R7$(),t.xc7("background-color",s.stageColor),t.R7$(3),t.JRh(s.prompt),t.R7$(2),t.JRh(s.answer),t.R7$(2),t.JRh(t.i5U(9,6,s.unlocks,"short")),t.R7$(3),t.SpI(" Stage ",s.stage," ")}}function $(n,o){if(1&n&&(t.j41(0,"ion-accordion",7)(1,"ion-item",11)(2,"ion-label")(3,"h3"),t.EFF(4),t.k0s()(),t.j41(5,"ion-note",9),t.EFF(6),t.k0s()(),t.j41(7,"div",12)(8,"ion-list",13),t.Z7z(9,R,12,9,"ion-item",null,h),t.k0s()()()),2&n){const s=o.$implicit;t.Y8G("value",s.id),t.R7$(4),t.JRh(s.name),t.R7$(2),t.JRh(s.cards.length),t.R7$(3),t.Dyx(s.cards)}}function M(n,o){if(1&n&&(t.j41(0,"ion-accordion",7)(1,"ion-item",8)(2,"ion-label")(3,"h2"),t.EFF(4),t.k0s()(),t.j41(5,"ion-note",9),t.EFF(6),t.k0s()(),t.j41(7,"div",10)(8,"ion-accordion-group",6),t.Z7z(9,$,11,3,"ion-accordion",7,h),t.k0s()()()),2&n){const s=o.$implicit;t.Y8G("value",s.id),t.R7$(4),t.JRh(s.label),t.R7$(2),t.JRh(s.totalCards),t.R7$(2),t.Y8G("multiple",!0),t.R7$(),t.Dyx(s.lessons)}}function P(n,o){if(1&n&&(t.j41(0,"ion-accordion-group",6),t.Z7z(1,M,11,4,"ion-accordion",7,h),t.k0s()),2&n){const s=t.XpG();t.Y8G("multiple",!0),t.R7$(),t.Dyx(s.categories)}}let y=(()=>{var n;class o{constructor(i){this.cardsService=i,this.categories=[],this.totalUnlockedCards=0,this.categoryLabels={hiragana:"Hiragana",katakana:"Katakana",genki:"Genki Vocabulary",wanikani:"WaniKani Lessons","joyo-kanji":"J\u014dy\u014d Kanji","jinmeiyo-kanji":"Jinmeiy\u014d Kanji","common-katakana-words":"Common Katakana Words"},this.categoryOrder=["hiragana","katakana","genki","wanikani","joyo-kanji","jinmeiyo-kanji","common-katakana-words"]}ngOnInit(){var i=this;return(0,_.A)(function*(){yield i.cardsService.initialize(),i.loadGlossary()})()}ionViewWillEnter(){this.loadGlossary()}loadGlossary(){const i=this.cardsService.getGlossaryData(),e=new Map;for(const a of i){const g={id:a.card_id,prompt:a.prompt,answer:JSON.parse(a.answers)[0]??"",hint:a.hint,stage:a.stage,stageColor:this.cardsService.getStageColor(a.stage),unlocks:a.unlocks},c=a.lesson_category??a.card_category,l=a.lesson_id??"__ungrouped__",m=a.lesson_name??"Ungrouped";e.has(c)||e.set(c,new Map);const u=e.get(c);u.has(l)||u.set(l,{name:m,cards:[]}),u.get(l).cards.push(g)}this.totalUnlockedCards=0,this.categories=[];for(const a of this.categoryOrder){const g=this.buildCategory(a,e.get(a));g&&this.categories.push(g)}for(const[a,g]of e){if(this.categoryOrder.includes(a))continue;const c=this.buildCategory(a,g);c&&this.categories.push(c)}}buildCategory(i,e){if(!e)return null;const a=[];let g=0;for(const[c,l]of e)l.cards.sort((m,u)=>m.stage-u.stage),a.push({id:c,name:l.name,cards:l.cards}),g+=l.cards.length;return a.sort((c,l)=>"__ungrouped__"===c.id?1:"__ungrouped__"===l.id?-1:c.name.localeCompare(l.name)),this.totalUnlockedCards+=g,{id:i,label:this.categoryLabels[i]??i,lessons:a,totalCards:g}}static#t=n=()=>(this.\u0275fac=function(e){return new(e||o)(t.rXU(j.D))},this.\u0275cmp=t.VBU({type:o,selectors:[["app-glossary"]],decls:13,vars:3,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"empty-state"],[3,"multiple"],[3,"value"],["slot","header",2,"--background","var(--ion-color-step-200, #333)"],["slot","end"],["slot","content",1,"category-content"],["slot","header",2,"--background","var(--ion-color-step-100, #222)"],["slot","content"],["lines","full",1,"card-list"],["slot","start",1,"stage-dot"],[1,"card-answer"],[1,"card-unlocks"],["slot","end",1,"stage-note"]],template:function(e,a){1&e&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t.nrm(3,"ion-menu-button"),t.k0s(),t.j41(4,"ion-title"),t.EFF(5,"Glossary"),t.k0s()()(),t.j41(6,"ion-content",2)(7,"ion-header",3)(8,"ion-toolbar")(9,"ion-title",4),t.EFF(10,"Glossary"),t.k0s()()(),t.nVh(11,G,5,0,"div",5)(12,P,3,1,"ion-accordion-group",6),t.k0s()),2&e&&(t.Y8G("translucent",!0),t.R7$(6),t.Y8G("fullscreen",!0),t.R7$(5),t.vxM(0===a.totalUnlockedCards?11:12))},dependencies:[r.eU,r.ai,r.BC,r.W9,r.QW,r.MC,r.YH,r.xk,r.uz,r.he,r.nf,r.JI,p.vh],styles:[".empty-state[_ngcontent-%COMP%]{text-align:center;color:var(--ion-color-medium, #92949c);padding:48px 16px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-size:1.2em;margin-bottom:8px}.stage-dot[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;flex-shrink:0}.card-answer[_ngcontent-%COMP%]{font-size:1.4em;font-weight:500}.card-unlocks[_ngcontent-%COMP%]{font-size:.85em;color:var(--ion-color-medium, #92949c)}.stage-note[_ngcontent-%COMP%]{font-size:.8em;white-space:nowrap}"]}))}return n(),o})();var k=d(2615);const x=[{path:"",component:y}];let b=(()=>{var n;class o{static#t=n=()=>(this.\u0275fac=function(e){return new(e||o)},this.\u0275mod=t.$C({type:o}),this.\u0275inj=k.G2t({imports:[f.iI.forChild(x),f.iI]}))}return n(),o})(),w=(()=>{var n;class o{static#t=n=()=>(this.\u0275fac=function(e){return new(e||o)},this.\u0275mod=t.$C({type:o}),this.\u0275inj=k.G2t({imports:[p.MD,v.YN,F.bv,b,y]}))}return n(),o})()}}]);