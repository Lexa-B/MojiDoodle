(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2940],{1427(J,F1,R){J=R.nmd(J);var W=R(9293).default,e1=void 0,v1=function(l1){return e1||(e1=new Promise(function(U,a1){var e,D=typeof l1<"u"?l1:{},n1=D.onAbort;D.onAbort=function(a){a1(new Error(a)),n1&&n1(a)},D.postRun=D.postRun||[],D.postRun.push(function(){U(D)}),J=void 0,e||=typeof D<"u"?D:{};var S1="object"==typeof window,e2=typeof WorkerGlobalScope<"u",T1="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node&&"renderer"!=process.type;e.onRuntimeInitialized=function(){function a(c,g){switch(typeof g){case"boolean":M4(c,g?1:0);break;case"number":x4(c,g);break;case"string":k4(c,g,-1,-1);break;case"object":if(null===g)L0(c);else if(null!=g.length){var u=o2(g,s2);f4(c,u,g.length,-1),t2(u)}else n2(c,"Wrong API use : tried to return a value of an unknown type ("+g+").",-1);break;default:L0(c)}}function s(c,g){for(var u=[],M=0;M<c;M+=1){var z=c1(g+4*M,"i32"),T=w4(z);if(1===T||2===T)z=u4(z);else if(3===T)z=m4(z);else if(4===T){z=d4(T=z),T=p4(T);for(var o1=new Uint8Array(z),Z=0;Z<z;Z+=1)o1[Z]=F[T+Z];z=o1}else z=null;u.push(z)}return u}function o(c,g){this.Qa=c,this.db=g,this.Oa=1,this.lb=[]}function t(c,g){if(this.db=g,g=_1(c)+1,this.eb=O2(g),null===this.eb)throw Error("Unable to allocate memory for the SQL string");r1(c,V,this.eb,g),this.kb=this.eb,this.Za=this.pb=null}function i(c){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),null!=c){var g=this.filename,u="/",M=g;if(u&&(u="string"==typeof u?u:z2(u),M=g?k2(u+"/"+g):u),M=function U0(a,s=438){return Y1(a,4095&s|32768,0)}(M,g=Q2(!0,!0)),c){if("string"==typeof c){u=Array(c.length);for(var z=0,T=c.length;z<T;++z)u[z]=c.charCodeAt(z);c=u}Q1(M,146|g),d0(u=f1(M,577),c,0,c.length,0),A2(u),Q1(M,g)}}this.handleError(f(this.filename,l)),this.db=c1(l,"i32"),C0(this.db),this.fb={},this.Sa={}}var l=m1(4),h=e.cwrap,f=h("sqlite3_open","number",["string","number"]),H=h("sqlite3_close_v2","number",["number"]),L=h("sqlite3_exec","number",["number","string","number","number","number"]),E=h("sqlite3_changes","number",["number"]),$=h("sqlite3_prepare_v2","number",["number","string","number","number","number"]),k0=h("sqlite3_sql","string",["number"]),X0=h("sqlite3_normalized_sql","string",["number"]),f0=h("sqlite3_prepare_v2","number",["number","number","number","number","number"]),Q0=h("sqlite3_bind_text","number",["number","number","number","number","number"]),M0=h("sqlite3_bind_blob","number",["number","number","number","number","number"]),Z0=h("sqlite3_bind_double","number",["number","number","number"]),J0=h("sqlite3_bind_int","number",["number","number","number"]),a4=h("sqlite3_bind_parameter_index","number",["number","string"]),s4=h("sqlite3_step","number",["number"]),o4=h("sqlite3_errmsg","string",["number"]),t4=h("sqlite3_column_count","number",["number"]),n4=h("sqlite3_data_count","number",["number"]),i4=h("sqlite3_column_double","number",["number","number"]),z0=h("sqlite3_column_text","string",["number","number"]),e4=h("sqlite3_column_blob","number",["number","number"]),l4=h("sqlite3_column_bytes","number",["number","number"]),c4=h("sqlite3_column_type","number",["number","number"]),r4=h("sqlite3_column_name","string",["number","number"]),h4=h("sqlite3_reset","number",["number"]),v4=h("sqlite3_clear_bindings","number",["number"]),g4=h("sqlite3_finalize","number",["number"]),B0=h("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),w4=h("sqlite3_value_type","number",["number"]),d4=h("sqlite3_value_bytes","number",["number"]),m4=h("sqlite3_value_text","string",["number"]),p4=h("sqlite3_value_blob","number",["number"]),u4=h("sqlite3_value_double","number",["number"]),x4=h("sqlite3_result_double","",["number","number"]),L0=h("sqlite3_result_null","",["number"]),k4=h("sqlite3_result_text","",["number","string","number","number"]),f4=h("sqlite3_result_blob","",["number","number","number","number"]),M4=h("sqlite3_result_int","",["number","number"]),n2=h("sqlite3_result_error","",["number","string","number"]),H0=h("sqlite3_aggregate_context","number",["number","number"]),C0=h("RegisterExtensionFunctions","number",["number"]),y0=h("sqlite3_update_hook","number",["number","number","number"]);o.prototype.bind=function(c){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(c)?this.Cb(c):null==c||"object"!=typeof c||this.Db(c)},o.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var c=s4(this.Qa);switch(c){case 100:return!0;case 101:return!1;default:throw this.db.handleError(c)}},o.prototype.wb=function(c){return null==c&&(c=this.Oa,this.Oa+=1),i4(this.Qa,c)},o.prototype.Gb=function(c){if(null==c&&(c=this.Oa,this.Oa+=1),c=z0(this.Qa,c),"function"!=typeof BigInt)throw Error("BigInt is not supported");return BigInt(c)},o.prototype.Hb=function(c){return null==c&&(c=this.Oa,this.Oa+=1),z0(this.Qa,c)},o.prototype.getBlob=function(c){null==c&&(c=this.Oa,this.Oa+=1);var g=l4(this.Qa,c);c=e4(this.Qa,c);for(var u=new Uint8Array(g),M=0;M<g;M+=1)u[M]=F[c+M];return u},o.prototype.get=function(c,g){g=g||{},null!=c&&this.bind(c)&&this.step(),c=[];for(var u=n4(this.Qa),M=0;M<u;M+=1)switch(c4(this.Qa,M)){case 1:var z=g.useBigInt?this.Gb(M):this.wb(M);c.push(z);break;case 2:c.push(this.wb(M));break;case 3:c.push(this.Hb(M));break;case 4:c.push(this.getBlob(M));break;default:c.push(null)}return c},o.prototype.getColumnNames=function(){for(var c=[],g=t4(this.Qa),u=0;u<g;u+=1)c.push(r4(this.Qa,u));return c},o.prototype.getAsObject=function(c,g){c=this.get(c,g),g=this.getColumnNames();for(var u={},M=0;M<g.length;M+=1)u[g[M]]=c[M];return u},o.prototype.getSQL=function(){return k0(this.Qa)},o.prototype.getNormalizedSQL=function(){return X0(this.Qa)},o.prototype.run=function(c){return null!=c&&this.bind(c),this.step(),this.reset()},o.prototype.sb=function(c,g){null==g&&(g=this.Oa,this.Oa+=1),c=$2(c);var u=o2(c,s2);this.lb.push(u),this.db.handleError(Q0(this.Qa,g,u,c.length-1,0))},o.prototype.Bb=function(c,g){null==g&&(g=this.Oa,this.Oa+=1);var u=o2(c,s2);this.lb.push(u),this.db.handleError(M0(this.Qa,g,u,c.length,0))},o.prototype.rb=function(c,g){null==g&&(g=this.Oa,this.Oa+=1),this.db.handleError((c===(0|c)?J0:Z0)(this.Qa,g,c))},o.prototype.Eb=function(c){null==c&&(c=this.Oa,this.Oa+=1),M0(this.Qa,c,0,0,0)},o.prototype.tb=function(c,g){switch(null==g&&(g=this.Oa,this.Oa+=1),typeof c){case"string":return void this.sb(c,g);case"number":return void this.rb(c,g);case"bigint":return void this.sb(c.toString(),g);case"boolean":return void this.rb(c+0,g);case"object":if(null===c)return void this.Eb(g);if(null!=c.length)return void this.Bb(c,g)}throw"Wrong API use : tried to bind a value of an unknown type ("+c+")."},o.prototype.Db=function(c){var g=this;return Object.keys(c).forEach(function(u){var M=a4(g.Qa,u);0!==M&&g.tb(c[u],M)}),!0},o.prototype.Cb=function(c){for(var g=0;g<c.length;g+=1)this.tb(c[g],g+1);return!0},o.prototype.reset=function(){return this.freemem(),0===v4(this.Qa)&&0===h4(this.Qa)},o.prototype.freemem=function(){for(var c;void 0!==(c=this.lb.pop());)t2(c)},o.prototype.free=function(){this.freemem();var c=0===g4(this.Qa);return delete this.db.fb[this.Qa],this.Qa=0,c},t.prototype.next=function(){if(null===this.eb)return{done:!0};if(null!==this.Za&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var c=D1(),g=m1(4);O1(l),O1(g);try{this.db.handleError(f0(this.db.db,this.kb,-1,l,g)),this.kb=c1(g,"i32");var u=c1(l,"i32");return 0===u?(this.mb(),{done:!0}):(this.Za=new o(u,this.db),this.db.fb[u]=this.Za,{value:this.Za,done:!1})}catch(M){throw this.pb=x2(this.kb),this.mb(),M}finally{R1(c)}},t.prototype.mb=function(){t2(this.eb),this.eb=null},t.prototype.getRemainingSQL=function(){return null!==this.pb?this.pb:x2(this.kb)},"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&(t.prototype[Symbol.iterator]=function(){return this}),i.prototype.run=function(c,g){if(!this.db)throw"Database closed";if(g){c=this.prepare(c,g);try{c.step()}finally{c.free()}}else this.handleError(L(this.db,c,0,0,l));return this},i.prototype.exec=function(c,g,u){if(!this.db)throw"Database closed";var M=D1(),z=null;try{var T=b2(c),o1=m1(4);for(c=[];0!==c1(T,"i8");){O1(l),O1(o1),this.handleError(f0(this.db,T,-1,l,o1));var Z=c1(l,"i32");if(T=c1(o1,"i32"),0!==Z){var Y=null;for(z=new o(Z,this),null!=g&&z.bind(g);z.step();)null===Y&&(Y={columns:z.getColumnNames(),values:[]},c.push(Y)),Y.values.push(z.get(null,u));z.free()}}return c}catch(t1){throw z&&z.free(),t1}finally{R1(M)}},i.prototype.each=function(c,g,u,M,z){"function"==typeof g&&(M=u,u=g,g=void 0),c=this.prepare(c,g);try{for(;c.step();)u(c.getAsObject(null,z))}finally{c.free()}if("function"==typeof M)return M()},i.prototype.prepare=function(c,g){if(O1(l),this.handleError($(this.db,c,-1,l,0)),0===(c=c1(l,"i32")))throw"Nothing to prepare";var u=new o(c,this);return null!=g&&u.bind(g),this.fb[c]=u},i.prototype.iterateStatements=function(c){return new t(c,this)},i.prototype.export=function(){Object.values(this.fb).forEach(function(g){g.free()}),Object.values(this.Sa).forEach(d1),this.Sa={},this.handleError(H(this.db));var c=function I0(a){var o,t=f1(a,t||0);a=q1(a).size;var i=new Uint8Array(a);return w0(t,i,0,a,0),o=i,A2(t),o}(this.filename);return this.handleError(f(this.filename,l)),this.db=c1(l,"i32"),C0(this.db),c},i.prototype.close=function(){null!==this.db&&(Object.values(this.fb).forEach(function(c){c.free()}),Object.values(this.Sa).forEach(d1),this.Sa={},this.Ya&&(d1(this.Ya),this.Ya=void 0),this.handleError(H(this.db)),r0("/"+this.filename),this.db=null)},i.prototype.handleError=function(c){if(0===c)return null;throw c=o4(this.db),Error(c)},i.prototype.getRowsModified=function(){return E(this.db)},i.prototype.create_function=function(c,g){Object.prototype.hasOwnProperty.call(this.Sa,c)&&(d1(this.Sa[c]),delete this.Sa[c]);var u=P1(function(M,z,T){z=s(z,T);try{var o1=g.apply(null,z)}catch(Z){return void n2(M,Z,-1)}a(M,o1)},"viii");return this.Sa[c]=u,this.handleError(B0(this.db,c,g.length,1,0,u,0,0,0)),this},i.prototype.create_aggregate=function(c,g){var u=g.init||function(){return null},M=g.finalize||function(Y){return Y},z=g.step;if(!z)throw"An aggregate function must have a step function in "+c;var T={};Object.hasOwnProperty.call(this.Sa,c)&&(d1(this.Sa[c]),delete this.Sa[c]),g=c+"__finalize",Object.hasOwnProperty.call(this.Sa,g)&&(d1(this.Sa[g]),delete this.Sa[g]);var o1=P1(function(Y,t1,q2){var B1=H0(Y,1);Object.hasOwnProperty.call(T,B1)||(T[B1]=u()),t1=s(t1,q2),t1=[T[B1]].concat(t1);try{T[B1]=z.apply(null,t1)}catch(z4){delete T[B1],n2(Y,z4,-1)}},"viii"),Z=P1(function(Y){var t1=H0(Y,1);try{var q2=M(T[t1])}catch(B1){return delete T[t1],void n2(Y,B1,-1)}a(Y,q2),delete T[t1]},"vi");return this.Sa[c]=o1,this.Sa[g]=Z,this.handleError(B0(this.db,c,z.length-1,1,0,0,o1,Z,0)),this},i.prototype.updateHook=function(c){this.Ya&&(y0(this.db,0,0),d1(this.Ya),this.Ya=void 0),c&&(this.Ya=P1(function(g,u,M,z,T){switch(u){case 18:g="insert";break;case 23:g="update";break;case 9:g="delete";break;default:throw"unknown operationCode in updateHook callback: "+u}if(M=M?_(V,M):"",z=z?_(V,z):"",T>Number.MAX_SAFE_INTEGER)throw"rowId too big to fit inside a Number";c(g,M,z,Number(T))},"viiiij"),y0(this.db,this.Ya,0))},e.Database=i};var u1,N1,l2={...e},L1="./this.program",H1=(a,s)=>{throw s},X="";if(T1){var c2=R(6490);R(9234),X=__dirname+"/",N1=a=>(a=W1(a)?new URL(a):a,c2.readFileSync(a)),u1=function(){var a=W(function*(s){return s=W1(s)?new URL(s):s,c2.readFileSync(s,void 0)});return function(o){return a.apply(this,arguments)}}(),!e.thisProgram&&1<process.argv.length&&(L1=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),J.exports=e,H1=(a,s)=>{throw process.exitCode=a,s}}else(S1||e2)&&(e2?X=self.location.href:typeof document<"u"&&document.currentScript&&(X=document.currentScript.src),X=X.startsWith("blob:")?"":X.slice(0,X.replace(/[?#].*/,"").lastIndexOf("/")+1),e2&&(N1=a=>{var s=new XMLHttpRequest;return s.open("GET",a,!1),s.responseType="arraybuffer",s.send(null),new Uint8Array(s.response)}),u1=function(){var a=W(function*(s){if(W1(s))return new Promise((t,i)=>{var l=new XMLHttpRequest;l.open("GET",s,!0),l.responseType="arraybuffer",l.onload=()=>{200==l.status||0==l.status&&l.response?t(l.response):i(l.status)},l.onerror=i,l.send(null)});var o=yield fetch(s,{credentials:"same-origin"});if(o.ok)return o.arrayBuffer();throw Error(o.status+" : "+o.url)});return function(o){return a.apply(this,arguments)}}());var R2=e.print||console.log.bind(console),C1=e.printErr||console.error.bind(console);Object.assign(e,l2),l2=null,e.thisProgram&&(L1=e.thisProgram);var I1,r2,F,V,b1,j,P,h2,s1,v2,U1=e.wasmBinary,K1=!1,W1=a=>a.startsWith("file://");function D2(){var a=I1.buffer;e.HEAP8=F=new Int8Array(a),e.HEAP16=b1=new Int16Array(a),e.HEAPU8=V=new Uint8Array(a),e.HEAPU16=new Uint16Array(a),e.HEAP32=j=new Int32Array(a),e.HEAPU32=P=new Uint32Array(a),e.HEAPF32=h2=new Float32Array(a),e.HEAPF64=v2=new Float64Array(a),e.HEAP64=s1=new BigInt64Array(a),e.HEAPU64=new BigUint64Array(a)}var g2,x1=0,j1=null;function y1(a){throw e.onAbort?.(a),C1(a="Aborted("+a+")"),K1=!0,new WebAssembly.RuntimeError(a+". Build with -sASSERTIONS for more info.")}function w2(){return(w2=W(function*(a){if(!U1)try{var s=yield u1(a);return new Uint8Array(s)}catch{}if(a==g2&&U1)a=new Uint8Array(U1);else{if(!N1)throw"both async and sync fetching of the wasm failed";a=N1(a)}return a})).apply(this,arguments)}function d2(){return d2=W(function*(a,s){try{var o=yield function V0(a){return w2.apply(this,arguments)}(a);return yield WebAssembly.instantiate(o,s)}catch(t){C1(`failed to asynchronously prepare wasm: ${t}`),y1(t)}}),d2.apply(this,arguments)}function m2(){return m2=W(function*(a){var s=g2;if(!U1&&"function"==typeof WebAssembly.instantiateStreaming&&!W1(s)&&!T1)try{var o=fetch(s,{credentials:"same-origin"});return yield WebAssembly.instantiateStreaming(o,a)}catch(t){C1(`wasm streaming compile failed: ${t}`),C1("falling back to ArrayBuffer instantiation")}return function S0(a,s){return d2.apply(this,arguments)}(s,a)}),m2.apply(this,arguments)}class p2{name="ExitStatus";constructor(s){this.message=`Program terminated with exit(${s})`,this.status=s}}var F2=a=>{for(;0<a.length;)a.shift()(e)},N2=[],U2=[],b0=()=>{var a=e.preRun.shift();U2.unshift(a)};function c1(a,s="i8"){switch(s.endsWith("*")&&(s="*"),s){case"i1":case"i8":return F[a];case"i16":return b1[a>>1];case"i32":return j[a>>2];case"i64":return s1[a>>3];case"float":return h2[a>>2];case"double":return v2[a>>3];case"*":return P[a>>2];default:y1(`invalid type for getValue: ${s}`)}}var u2=e.noExitRuntime||!0;function O1(a){var s="i32";switch(s.endsWith("*")&&(s="*"),s){case"i1":case"i8":F[a]=0;break;case"i16":b1[a>>1]=0;break;case"i32":j[a>>2]=0;break;case"i64":s1[a>>3]=BigInt(0);break;case"float":h2[a>>2]=0;break;case"double":v2[a>>3]=0;break;case"*":P[a>>2]=0;break;default:y1(`invalid type for setValue: ${s}`)}}var I2=typeof TextDecoder<"u"?new TextDecoder:void 0,_=(a,s=0,o=NaN)=>{var t=s+o;for(o=s;a[o]&&!(o>=t);)++o;if(16<o-s&&a.buffer&&I2)return I2.decode(a.subarray(s,o));for(t="";s<o;){var i=a[s++];if(128&i){var l=63&a[s++];if(192==(224&i))t+=String.fromCharCode((31&i)<<6|l);else{var h=63&a[s++];65536>(i=224==(240&i)?(15&i)<<12|l<<6|h:(7&i)<<18|l<<12|h<<6|63&a[s++])?t+=String.fromCharCode(i):(i-=65536,t+=String.fromCharCode(55296|i>>10,56320|1023&i))}}else t+=String.fromCharCode(i)}return t},x2=(a,s)=>a?_(V,a,s):"",K2=(a,s)=>{for(var o=0,t=a.length-1;0<=t;t--){var i=a[t];"."===i?a.splice(t,1):".."===i?(a.splice(t,1),o++):o&&(a.splice(t,1),o--)}if(s)for(;o;o--)a.unshift("..");return a},k2=a=>{var s="/"===a.charAt(0),o="/"===a.slice(-1);return(a=K2(a.split("/").filter(t=>!!t),!s).join("/"))||s||(a="."),a&&o&&(a+="/"),(s?"/":"")+a},W2=a=>{var s=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(a).slice(1);return a=s[0],s=s[1],a||s?(s&&=s.slice(0,-1),a+s):"."},G1=a=>a&&a.match(/([^\/]+|\/)\/*$/)[1],G2=a=>{(G2=(()=>{if(T1){var a=R(7920);return s=>a.randomFillSync(s)}return s=>crypto.getRandomValues(s)})())(a)},f2=[],_1=a=>{for(var s=0,o=0;o<a.length;++o){var t=a.charCodeAt(o);127>=t?s++:2047>=t?s+=2:55296<=t&&57343>=t?(s+=4,++o):s+=3}return s},r1=(a,s,o,t)=>{if(!(0<t))return 0;var i=o;t=o+t-1;for(var l=0;l<a.length;++l){var h=a.charCodeAt(l);if(55296<=h&&57343>=h&&(h=65536+((1023&h)<<10)|1023&a.charCodeAt(++l)),127>=h){if(o>=t)break;s[o++]=h}else{if(2047>=h){if(o+1>=t)break;s[o++]=192|h>>6}else{if(65535>=h){if(o+2>=t)break;s[o++]=224|h>>12}else{if(o+3>=t)break;s[o++]=240|h>>18,s[o++]=128|h>>12&63}s[o++]=128|h>>6&63}s[o++]=128|63&h}}return s[o]=0,o-i},$2=(a,s)=>{var o=Array(_1(a)+1);return a=r1(a,o,0,o.length),s&&(o.length=a),o},Y2=[];function X2(a,s){Y2[a]={input:[],output:[],cb:s},C2(a,_0)}var _0={open(a){var s=Y2[a.node.rdev];if(!s)throw new m(43);a.tty=s,a.seekable=!1},close(a){a.tty.cb.fsync(a.tty)},fsync(a){a.tty.cb.fsync(a.tty)},read(a,s,o,t){if(!a.tty||!a.tty.cb.xb)throw new m(60);for(var i=0,l=0;l<t;l++){try{var h=a.tty.cb.xb(a.tty)}catch{throw new m(29)}if(void 0===h&&0===i)throw new m(6);if(null==h)break;i++,s[o+l]=h}return i&&(a.node.atime=Date.now()),i},write(a,s,o,t){if(!a.tty||!a.tty.cb.qb)throw new m(60);try{for(var i=0;i<t;i++)a.tty.cb.qb(a.tty,s[o+i])}catch{throw new m(29)}return t&&(a.node.mtime=a.node.ctime=Date.now()),i}},q0={xb(){a:{if(!f2.length){var a=null;if(T1){var s=Buffer.alloc(256),o=0,t=process.stdin.fd;try{o=c2.readSync(t,s,0,256)}catch(i){if(!i.toString().includes("EOF"))throw i;o=0}0<o&&(a=s.slice(0,o).toString("utf-8"))}else typeof window<"u"&&"function"==typeof window.prompt&&null!==(a=window.prompt("Input: "))&&(a+="\n");if(!a){a=null;break a}f2=$2(a,!0)}a=f2.shift()}return a},qb(a,s){null===s||10===s?(R2(_(a.output)),a.output=[]):0!=s&&a.output.push(s)},fsync(a){0<a.output?.length&&(R2(_(a.output)),a.output=[])},Tb:()=>({Ob:25856,Qb:5,Nb:191,Pb:35387,Mb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),Ub:()=>0,Vb:()=>[24,80]},E0={qb(a,s){null===s||10===s?(C1(_(a.output)),a.output=[]):0!=s&&a.output.push(s)},fsync(a){0<a.output?.length&&(C1(_(a.output)),a.output=[])}},B={Wa:null,Xa:()=>B.createNode(null,"/",16895,0),createNode(a,s,o,t){if(24576==(61440&o)||4096==(61440&o))throw new m(63);return B.Wa||(B.Wa={dir:{node:{Ta:B.La.Ta,Ua:B.La.Ua,lookup:B.La.lookup,hb:B.La.hb,rename:B.La.rename,unlink:B.La.unlink,rmdir:B.La.rmdir,readdir:B.La.readdir,symlink:B.La.symlink},stream:{Va:B.Ma.Va}},file:{node:{Ta:B.La.Ta,Ua:B.La.Ua},stream:{Va:B.Ma.Va,read:B.Ma.read,write:B.Ma.write,ib:B.Ma.ib,jb:B.Ma.jb}},link:{node:{Ta:B.La.Ta,Ua:B.La.Ua,readlink:B.La.readlink},stream:{}},ub:{node:{Ta:B.La.Ta,Ua:B.La.Ua},stream:N0}}),G((o=o0(a,s,o,t)).mode)?(o.La=B.Wa.dir.node,o.Ma=B.Wa.dir.stream,o.Na={}):32768==(61440&o.mode)?(o.La=B.Wa.file.node,o.Ma=B.Wa.file.stream,o.Ra=0,o.Na=null):40960==(61440&o.mode)?(o.La=B.Wa.link.node,o.Ma=B.Wa.link.stream):8192==(61440&o.mode)&&(o.La=B.Wa.ub.node,o.Ma=B.Wa.ub.stream),o.atime=o.mtime=o.ctime=Date.now(),a&&(a.Na[s]=o,a.atime=a.mtime=a.ctime=o.atime),o},Sb:a=>a.Na?a.Na.subarray?a.Na.subarray(0,a.Ra):new Uint8Array(a.Na):new Uint8Array(0),La:{Ta(a){var s={};return s.dev=8192==(61440&a.mode)?a.id:1,s.ino=a.id,s.mode=a.mode,s.nlink=1,s.uid=0,s.gid=0,s.rdev=a.rdev,s.size=G(a.mode)?4096:32768==(61440&a.mode)?a.Ra:40960==(61440&a.mode)?a.link.length:0,s.atime=new Date(a.atime),s.mtime=new Date(a.mtime),s.ctime=new Date(a.ctime),s.blksize=4096,s.blocks=Math.ceil(s.size/s.blksize),s},Ua(a,s){for(var o of["mode","atime","mtime","ctime"])null!=s[o]&&(a[o]=s[o]);void 0!==s.size&&a.Ra!=(s=s.size)&&(0==s?(a.Na=null,a.Ra=0):(o=a.Na,a.Na=new Uint8Array(s),o&&a.Na.set(o.subarray(0,Math.min(s,a.Ra))),a.Ra=s))},lookup(){throw B.vb},hb:(a,s,o,t)=>B.createNode(a,s,o,t),rename(a,s,o){try{var t=k1(s,o)}catch{}if(t){if(G(a.mode))for(var i in t.Na)throw new m(55);L2(t)}delete a.parent.Na[a.name],s.Na[o]=a,a.name=o,s.ctime=s.mtime=a.parent.ctime=a.parent.mtime=Date.now()},unlink(a,s){delete a.Na[s],a.ctime=a.mtime=Date.now()},rmdir(a,s){var t,o=k1(a,s);for(t in o.Na)throw new m(55);delete a.Na[s],a.ctime=a.mtime=Date.now()},readdir:a=>[".","..",...Object.keys(a.Na)],symlink:(a,s,o)=>((a=B.createNode(a,s,41471,0)).link=o,a),readlink(a){if(40960!=(61440&a.mode))throw new m(28);return a.link}},Ma:{read(a,s,o,t,i){var l=a.node.Na;if(i>=a.node.Ra)return 0;if(8<(a=Math.min(a.node.Ra-i,t))&&l.subarray)s.set(l.subarray(i,i+a),o);else for(t=0;t<a;t++)s[o+t]=l[i+t];return a},write(a,s,o,t,i,l){if(s.buffer===F.buffer&&(l=!1),!t)return 0;if((a=a.node).mtime=a.ctime=Date.now(),s.subarray&&(!a.Na||a.Na.subarray)){if(l)return a.Na=s.subarray(o,o+t),a.Ra=t;if(0===a.Ra&&0===i)return a.Na=s.slice(o,o+t),a.Ra=t;if(i+t<=a.Ra)return a.Na.set(s.subarray(o,o+t),i),t}var h=a.Na?a.Na.length:0;if(h>=(l=i+t)||(l=Math.max(l,h*(1048576>h?2:1.125)>>>0),0!=h&&(l=Math.max(l,256)),h=a.Na,a.Na=new Uint8Array(l),0<a.Ra&&a.Na.set(h.subarray(0,a.Ra),0)),a.Na.subarray&&s.subarray)a.Na.set(s.subarray(o,o+t),i);else for(l=0;l<t;l++)a.Na[i+l]=s[o+l];return a.Ra=Math.max(a.Ra,i+t),t},Va(a,s,o){if(1===o?s+=a.position:2===o&&32768==(61440&a.node.mode)&&(s+=a.node.Ra),0>s)throw new m(28);return s},ib(a,s,o,t,i){if(32768!=(61440&a.node.mode))throw new m(43);if(a=a.node.Na,2&i||!a||a.buffer!==F.buffer){i=!0,t=65536*Math.ceil(s/65536);var l=u0(65536,t);if(l&&V.fill(0,l,l+t),!(t=l))throw new m(48);a&&((0<o||o+s<a.length)&&(a=a.subarray?a.subarray(o,o+s):Array.prototype.slice.call(a,o,o+s)),F.set(a,t))}else i=!1,t=a.byteOffset;return{Kb:t,Ab:i}},jb:(a,s,o,t)=>(B.Ma.write(a,s,0,t,o,!1),0)}},Q2=(a,s)=>{var o=0;return a&&(o|=365),s&&(o|=146),o},M2=null,Z2={},A1=[],P0=1,g1=null,J2=!1,a0=!0,s0={},m=class{name="ErrnoError";constructor(a){this.Pa=a}},R0=class{gb={};node=null;get flags(){return this.gb.flags}set flags(a){this.gb.flags=a}get position(){return this.gb.position}set position(a){this.gb.position=a}},D0=class{La={};Ma={};ab=null;constructor(a,s,o,t){a||=this,this.parent=a,this.Xa=a.Xa,this.id=P0++,this.name=s,this.mode=o,this.rdev=t,this.atime=this.mtime=this.ctime=Date.now()}get read(){return!(365&~this.mode)}set read(a){a?this.mode|=365:this.mode&=-366}get write(){return!(146&~this.mode)}set write(a){a?this.mode|=146:this.mode&=-147}};function Q(a,s={}){if(!a)throw new m(44);s.nb??(s.nb=!0),"/"===a.charAt(0)||(a="//"+a);var o=0;a:for(;40>o;o++){a=a.split("/").filter(f=>!!f);for(var t=M2,i="/",l=0;l<a.length;l++){var h=l===a.length-1;if(h&&s.parent)break;if("."!==a[l])if(".."===a[l])i=W2(i),t=t.parent;else{i=k2(i+"/"+a[l]);try{t=k1(t,a[l])}catch(f){if(44===f?.Pa&&h&&s.Jb)return{path:i};throw f}if(!t.ab||h&&!s.nb||(t=t.ab.root),40960==(61440&t.mode)&&(!h||s.$a)){if(!t.La.readlink)throw new m(52);"/"===(t=t.La.readlink(t)).charAt(0)||(t=W2(i)+"/"+t),a=t+"/"+a.slice(l+1).join("/");continue a}}}return{path:i,node:t}}throw new m(32)}function z2(a){for(var s;;){if(a===a.parent)return a=a.Xa.zb,s?"/"!==a[a.length-1]?`${a}/${s}`:a+s:a;s=s?`${a.name}/${s}`:a.name,a=a.parent}}function B2(a,s){for(var o=0,t=0;t<s.length;t++)o=(o<<5)-o+s.charCodeAt(t)|0;return(a+o>>>0)%g1.length}function L2(a){var s=B2(a.parent.id,a.name);if(g1[s]===a)g1[s]=a.bb;else for(s=g1[s];s;){if(s.bb===a){s.bb=a.bb;break}s=s.bb}}function k1(a,s){var o=G(a.mode)?(o=V1(a,"x"))?o:a.La.lookup?0:2:54;if(o)throw new m(o);for(o=g1[B2(a.id,s)];o;o=o.bb)if(o.parent.id===a.id&&o.name===s)return o;return a.La.lookup(a,s)}function o0(a,s,o,t){return s=B2((a=new D0(a,s,o,t)).parent.id,a.name),a.bb=g1[s],g1[s]=a}function G(a){return 16384==(61440&a)}function t0(a){var s=["r","w","rw"][3&a];return 512&a&&(s+="w"),s}function V1(a,s){return a0?0:!s.includes("r")||292&a.mode?s.includes("w")&&!(146&a.mode)||s.includes("x")&&!(73&a.mode)?2:0:2}function n0(a,s){if(!G(a.mode))return 54;try{return k1(a,s),20}catch{}return V1(a,"wx")}function i0(a,s,o){try{var t=k1(a,s)}catch(i){return i.Pa}if(a=V1(a,"wx"))return a;if(o){if(!G(t.mode))return 54;if(t===t.parent||"/"===z2(t))return 10}else if(G(t.mode))return 31;return 0}function $1(a){if(!a)throw new m(63);return a}function I(a){if(!(a=A1[a]))throw new m(8);return a}function e0(a,s=-1){if(a=Object.assign(new R0,a),-1==s)a:{for(s=0;4096>=s;s++)if(!A1[s])break a;throw new m(33)}return a.fd=s,A1[s]=a}function H2(a,s,o){var t=a?.Ma.Ua;a=t?a:s,t??=s.La.Ua,$1(t),t(a,o)}var N0={open(a){a.Ma=Z2[a.node.rdev].Ma,a.Ma.open?.(a)},Va(){throw new m(70)}};function C2(a,s){Z2[a]={Ma:s}}function l0(a,s){var o="/"===s;if(o&&M2)throw new m(10);if(!o&&s){var t=Q(s,{nb:!1});if(s=t.path,(t=t.node).ab)throw new m(10);if(!G(t.mode))throw new m(54)}(a=a.Xa(s={type:a,Wb:{},zb:s,Ib:[]})).Xa=s,s.root=a,o?M2=a:t&&(t.ab=s,t.Xa&&t.Xa.Ib.push(s))}function Y1(a,s,o){var t=Q(a,{parent:!0}).node;if(!(a=G1(a)))throw new m(28);if("."===a||".."===a)throw new m(20);var i=n0(t,a);if(i)throw new m(i);if(!t.La.hb)throw new m(63);return t.La.hb(t,a,s,o)}function i1(a,s=511){return Y1(a,1023&s|16384,0)}function X1(a,s,o){typeof o>"u"&&(o=s,s=438),Y1(a,8192|s,o)}function y2(a,s){if(!((...a)=>{for(var s="",o=!1,t=a.length-1;-1<=t&&!o;t--){if("string"!=typeof(o=0<=t?a[t]:"/"))throw new TypeError("Arguments to path.resolve must be strings");if(!o)return"";s=o+"/"+s,o="/"===o.charAt(0)}return(o?"/":"")+(s=K2(s.split("/").filter(i=>!!i),!o).join("/"))||"."})(a))throw new m(44);var o=Q(s,{parent:!0}).node;if(!o)throw new m(44);var t=n0(o,s=G1(s));if(t)throw new m(t);if(!o.La.symlink)throw new m(63);o.La.symlink(o,s,a)}function c0(a){var s=Q(a,{parent:!0}).node,o=k1(s,a=G1(a)),t=i0(s,a,!0);if(t)throw new m(t);if(!s.La.rmdir)throw new m(63);if(o.ab)throw new m(10);s.La.rmdir(s,a),L2(o)}function r0(a){var s=Q(a,{parent:!0}).node;if(!s)throw new m(44);var o=k1(s,a=G1(a)),t=i0(s,a,!1);if(t)throw new m(t);if(!s.La.unlink)throw new m(63);if(o.ab)throw new m(10);s.La.unlink(s,a),L2(o)}function q1(a,s){return $1((a=Q(a,{$a:!s}).node).La.Ta)(a)}function h0(a,s,o,t){H2(a,s,{mode:4095&o|-4096&s.mode,ctime:Date.now(),Fb:t})}function Q1(a,s){h0(null,a="string"==typeof a?Q(a,{$a:!0}).node:a,s)}function v0(a,s,o){if(G(s.mode))throw new m(31);if(32768!=(61440&s.mode))throw new m(28);var t=V1(s,"w");if(t)throw new m(t);H2(a,s,{size:o,timestamp:Date.now()})}function f1(a,s,o=438){if(""===a)throw new m(44);if("string"==typeof s){var t={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[s];if(typeof t>"u")throw Error(`Unknown file open mode: ${s}`);s=t}if(o=64&s?4095&o|32768:0,"object"==typeof a)t=a;else{var i=a.endsWith("/");t=(a=Q(a,{$a:!(131072&s),Jb:!0})).node,a=a.path}var l=!1;if(64&s)if(t){if(128&s)throw new m(20)}else{if(i)throw new m(31);t=Y1(a,511|o,0),l=!0}if(!t)throw new m(44);if(8192==(61440&t.mode)&&(s&=-513),65536&s&&!G(t.mode))throw new m(54);if(!l&&(i=t?40960==(61440&t.mode)?32:G(t.mode)&&("r"!==t0(s)||576&s)?31:V1(t,t0(s)):44))throw new m(i);return 512&s&&!l&&v0(null,i="string"==typeof(i=t)?Q(i,{$a:!0}).node:i,0),s&=-131713,(i=e0({node:t,path:z2(t),flags:s,seekable:!0,position:0,Ma:t.Ma,Lb:[],error:!1})).Ma.open&&i.Ma.open(i),l&&Q1(t,511&o),!e.logReadFiles||1&s||a in s0||(s0[a]=1),i}function A2(a){if(null===a.fd)throw new m(8);a.ob&&(a.ob=null);try{a.Ma.close&&a.Ma.close(a)}catch(s){throw s}finally{A1[a.fd]=null}a.fd=null}function g0(a,s,o){if(null===a.fd)throw new m(8);if(!a.seekable||!a.Ma.Va)throw new m(70);if(0!=o&&1!=o&&2!=o)throw new m(28);a.position=a.Ma.Va(a,s,o),a.Lb=[]}function w0(a,s,o,t,i){if(0>t||0>i)throw new m(28);if(null===a.fd)throw new m(8);if(1==(2097155&a.flags))throw new m(8);if(G(a.node.mode))throw new m(31);if(!a.Ma.read)throw new m(28);var l=typeof i<"u";if(l){if(!a.seekable)throw new m(70)}else i=a.position;return s=a.Ma.read(a,s,o,t,i),l||(a.position+=s),s}function d0(a,s,o,t,i){if(0>t||0>i)throw new m(28);if(null===a.fd)throw new m(8);if(!(2097155&a.flags))throw new m(8);if(G(a.node.mode))throw new m(31);if(!a.Ma.write)throw new m(28);a.seekable&&1024&a.flags&&g0(a,0,2);var l=typeof i<"u";if(l){if(!a.seekable)throw new m(70)}else i=a.position;return s=a.Ma.write(a,s,o,t,i,void 0),l||(a.position+=s),s}function w1(a,s,o){a=k2("/dev/"+a);var t=Q2(!!s,!!o);w1.yb??(w1.yb=64);var i=w1.yb++<<8;C2(i,{open(l){l.seekable=!1},close(){o?.buffer?.length&&o(10)},read(l,h,f,H){for(var L=0,E=0;E<H;E++){try{var $=s()}catch{throw new m(29)}if(void 0===$&&0===L)throw new m(6);if(null==$)break;L++,h[f+E]=$}return L&&(l.node.atime=Date.now()),L},write(l,h,f,H){for(var L=0;L<H;L++)try{o(h[f+L])}catch{throw new m(29)}return H&&(l.node.mtime=l.node.ctime=Date.now()),L}}),X1(a,t,i)}function M1(a,s,o){if("/"===s.charAt(0))return s;if(a=-100===a?"/":I(a).path,0==s.length){if(!o)throw new m(44);return a}return a+"/"+s}function Z1(a,s){j[a>>2]=s.dev,j[a+4>>2]=s.mode,P[a+8>>2]=s.nlink,j[a+12>>2]=s.uid,j[a+16>>2]=s.gid,j[a+20>>2]=s.rdev,s1[a+24>>3]=BigInt(s.size),j[a+32>>2]=4096,j[a+36>>2]=s.blocks;var o=s.atime.getTime(),t=s.mtime.getTime(),i=s.ctime.getTime();return s1[a+40>>3]=BigInt(Math.floor(o/1e3)),P[a+48>>2]=o%1e3*1e6,s1[a+56>>3]=BigInt(Math.floor(t/1e3)),P[a+64>>2]=t%1e3*1e6,s1[a+72>>3]=BigInt(Math.floor(i/1e3)),P[a+80>>2]=i%1e3*1e6,s1[a+88>>3]=BigInt(s.ino),0}var T2,z1,h1,J1=void 0,a2=()=>{var a=j[+J1>>2];return J1+=4,a},V2=0,K0=[0,31,60,91,121,152,182,213,244,274,305,335],W0=[0,31,59,90,120,151,181,212,243,273,304,334],E1={},m0=a=>{r2=a,u2||0<V2||(e.onExit?.(a),K1=!0),H1(a,new p2(a))},S2={},p0=()=>{if(!T2){var s,a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L1||"./this.program"};for(s in S2)void 0===S2[s]?delete a[s]:a[s]=S2[s];var o=[];for(s in a)o.push(`${s}=${a[s]}`);T2=o}return T2},b2=a=>{var s=_1(a)+1,o=m1(s);return r1(a,V,o,s),o},s2=0,o2=(a,s)=>(s=1==s?m1(a.length):O2(a.length),a.subarray||a.slice||(a=new Uint8Array(a)),V.set(a,s),s),j2=[],d1=a=>{z1.delete(h1.get(a)),h1.set(a,null),j2.push(a)},P1=(a,s)=>{if(!z1){var o=h1.length;if(z1=new WeakMap)for(var t=0;t<0+o;t++){var i=h1.get(t);i&&z1.set(i,t)}}if(o=z1.get(a)||0)return o;if(j2.length)o=j2.pop();else{try{h1.grow(1)}catch(H){throw H instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":H}o=h1.length-1}try{h1.set(o,a)}catch(H){if(!(H instanceof TypeError))throw H;if("function"==typeof WebAssembly.Function){var l=WebAssembly.Function;t={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},i={parameters:[],results:"v"==s[0]?[]:[t[s[0]]]};for(var h=1;h<s.length;++h)i.parameters.push(t[s[h]]);s=new l(i,a)}else{t=[1],i=s.slice(0,1),s=s.slice(1),h={i:127,p:127,j:126,f:125,d:124,e:111},t.push(96);var f=s.length;for(l of(128>f?t.push(f):t.push(f%128|128,f>>7),s))t.push(h[l]);"v"==i?t.push(0):t.push(1,h[i]),s=[0,97,115,109,1,0,0,0,1],128>(l=t.length)?s.push(l):s.push(l%128|128,l>>7),s.push(...t),s.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),s=new WebAssembly.Module(new Uint8Array(s)),s=new WebAssembly.Instance(s,{e:{f:a}}).exports.f}h1.set(o,s)}return z1.set(a,o),o};g1=Array(4096),l0(B,"/"),i1("/tmp"),i1("/home"),i1("/home/web_user"),function(){i1("/dev"),C2(259,{read:()=>0,write:(t,i,l,h)=>h,Va:()=>0}),X1("/dev/null",259),X2(1280,q0),X2(1536,E0),X1("/dev/tty",1280),X1("/dev/tty1",1536);var a=new Uint8Array(1024),s=0,o=()=>(0===s&&(G2(a),s=a.byteLength),a[--s]);w1("random",o),w1("urandom",o),i1("/dev/shm"),i1("/dev/shm/tmp")}(),function(){i1("/proc");var a=i1("/proc/self");i1("/proc/self/fd"),l0({Xa(){var s=o0(a,"fd",16895,73);return s.Ma={Va:B.Ma.Va},s.La={lookup(o,t){var i=I(o=+t);return(o={parent:null,Xa:{zb:"fake"},La:{readlink:()=>i.path},id:o+1}).parent=o},readdir:()=>Array.from(A1.entries()).filter(([,o])=>o).map(([o])=>o.toString())},s}},"/proc/self/fd")}(),B.vb=new m(44),B.vb.stack="<generic error, no stack>";var k,Y0={a:(a,s,o,t)=>y1(`Assertion failed: ${a?_(V,a):""}, at: `+[s?s?_(V,s):"":"unknown filename",o,t?t?_(V,t):"":"unknown function"]),i:function(a,s){try{return Q1(a=a?_(V,a):"",s),0}catch(o){if("ErrnoError"!==o.name)throw o;return-o.Pa}},L:function(a,s,o){try{if(s=M1(a,s=s?_(V,s):""),-8&o)return-28;var t=Q(s,{$a:!0}).node;return t?(a="",4&o&&(a+="r"),2&o&&(a+="w"),1&o&&(a+="x"),a&&V1(t,a)?-2:0):-44}catch(i){if("ErrnoError"!==i.name)throw i;return-i.Pa}},j:function(a,s){try{var o=I(a);return h0(o,o.node,s,!1),0}catch(t){if("ErrnoError"!==t.name)throw t;return-t.Pa}},h:function(a){try{var s=I(a);return H2(s,s.node,{timestamp:Date.now(),Fb:!1}),0}catch(o){if("ErrnoError"!==o.name)throw o;return-o.Pa}},b:function(a,s,o){J1=o;try{var t=I(a);switch(s){case 0:var i=a2();if(0>i)break;for(;A1[i];)i++;return function F0(a,s=-1){return a=e0(a,s),a.Ma?.Rb?.(a),a}(t,i).fd;case 1:case 2:case 13:case 14:return 0;case 3:return t.flags;case 4:return i=a2(),t.flags|=i,0;case 12:return i=a2(),b1[i+0>>1]=2,0}return-28}catch(l){if("ErrnoError"!==l.name)throw l;return-l.Pa}},g:function(a,s){try{var o=I(a),t=o.node,i=o.Ma.Ta;return a=i?o:t,i??=t.La.Ta,$1(i),Z1(s,i(a))}catch(h){if("ErrnoError"!==h.name)throw h;return-h.Pa}},H:function(a,s){s=-9007199254740992>s||9007199254740992<s?NaN:Number(s);try{if(isNaN(s))return 61;var o=I(a);if(0>s||!(2097155&o.flags))throw new m(28);return v0(o,o.node,s),0}catch(t){if("ErrnoError"!==t.name)throw t;return-t.Pa}},G:function(a,s){try{if(0===s)return-28;var o=_1("/")+1;return s<o?-68:(r1("/",V,a,s),o)}catch(t){if("ErrnoError"!==t.name)throw t;return-t.Pa}},K:function(a,s){try{return Z1(s,q1(a=a?_(V,a):"",!0))}catch(o){if("ErrnoError"!==o.name)throw o;return-o.Pa}},C:function(a,s,o){try{return i1(s=M1(a,s=s?_(V,s):""),o),0}catch(t){if("ErrnoError"!==t.name)throw t;return-t.Pa}},J:function(a,s,o,t){try{s=s?_(V,s):"";var i=256&t;return s=M1(a,s,4096&t),Z1(o,i?q1(s,!0):q1(s))}catch(l){if("ErrnoError"!==l.name)throw l;return-l.Pa}},x:function(a,s,o,t){J1=t;try{return f1(s=M1(a,s=s?_(V,s):""),o,t?a2():0).fd}catch(l){if("ErrnoError"!==l.name)throw l;return-l.Pa}},v:function(a,s,o,t){try{if(s=M1(a,s=s?_(V,s):""),0>=t)return-28;var i=Q(s).node;if(!i)throw new m(44);if(!i.La.readlink)throw new m(28);var l=i.La.readlink(i),h=Math.min(t,_1(l)),f=F[o+h];return r1(l,V,o,t+1),F[o+h]=f,h}catch(H){if("ErrnoError"!==H.name)throw H;return-H.Pa}},u:function(a){try{return c0(a=a?_(V,a):""),0}catch(s){if("ErrnoError"!==s.name)throw s;return-s.Pa}},f:function(a,s){try{return Z1(s,q1(a=a?_(V,a):""))}catch(o){if("ErrnoError"!==o.name)throw o;return-o.Pa}},r:function(a,s,o){try{return s=M1(a,s=s?_(V,s):""),0===o?r0(s):512===o?c0(s):y1("Invalid flags passed to unlinkat"),0}catch(t){if("ErrnoError"!==t.name)throw t;return-t.Pa}},q:function(a,s,o){try{s=M1(a,s=s?_(V,s):"",!0);var i,l,t=Date.now();if(o){var h=P[o>>2]+4294967296*j[o+4>>2],f=j[o+8>>2];i=1073741823==f?t:1073741822==f?null:1e3*h+f/1e6,h=P[(o+=16)>>2]+4294967296*j[o+4>>2],l=1073741823==(f=j[o+8>>2])?t:1073741822==f?null:1e3*h+f/1e6}else l=i=t;if(null!==(l??i)){a=i;var H=Q(s,{$a:!0}).node;$1(H.La.Ua)(H,{atime:a,mtime:l})}return 0}catch(L){if("ErrnoError"!==L.name)throw L;return-L.Pa}},m:()=>y1(""),l:()=>{u2=!1,V2=0},A:function(a,s){a=-9007199254740992>a||9007199254740992<a?NaN:Number(a),a=new Date(1e3*a),j[s>>2]=a.getSeconds(),j[s+4>>2]=a.getMinutes(),j[s+8>>2]=a.getHours(),j[s+12>>2]=a.getDate(),j[s+16>>2]=a.getMonth(),j[s+20>>2]=a.getFullYear()-1900,j[s+24>>2]=a.getDay();var o=a.getFullYear();j[s+28>>2]=(o%4!=0||o%100==0&&o%400!=0?W0:K0)[a.getMonth()]+a.getDate()-1|0,j[s+36>>2]=-60*a.getTimezoneOffset(),o=new Date(a.getFullYear(),6,1).getTimezoneOffset();var t=new Date(a.getFullYear(),0,1).getTimezoneOffset();j[s+32>>2]=0|(o!=t&&a.getTimezoneOffset()==Math.min(t,o))},y:function(a,s,o,t,i,l,h){i=-9007199254740992>i||9007199254740992<i?NaN:Number(i);try{if(isNaN(i))return 61;var f=I(t);if(2&s&&!(2&o)&&2!=(2097155&f.flags))throw new m(2);if(1==(2097155&f.flags))throw new m(2);if(!f.Ma.ib)throw new m(43);if(!a)throw new m(28);var H=f.Ma.ib(f,a,i,s,o),L=H.Kb;return j[l>>2]=H.Ab,P[h>>2]=L,0}catch(E){if("ErrnoError"!==E.name)throw E;return-E.Pa}},z:function(a,s,o,t,i,l){l=-9007199254740992>l||9007199254740992<l?NaN:Number(l);try{var h=I(i);if(2&o){if(o=l,32768!=(61440&h.node.mode))throw new m(43);if(!(2&t)){var f=V.slice(a,a+s);h.Ma.jb&&h.Ma.jb(h,f,o,s,t)}}}catch(H){if("ErrnoError"!==H.name)throw H;return-H.Pa}},n:(a,s)=>{if(E1[a]&&(clearTimeout(E1[a].id),delete E1[a]),!s)return 0;var o=setTimeout(()=>{delete E1[a],(a=>{if(!K1)try{if(a(),!(u2||0<V2))try{r2=a=r2,m0(a)}catch(s){s instanceof p2||"unwind"==s||H1(1,s)}}catch(s){s instanceof p2||"unwind"==s||H1(1,s)}})(()=>x0(a,performance.now()))},s);return E1[a]={id:o,Xb:s},0},B:(a,s,o,t)=>{var i=(new Date).getFullYear(),l=new Date(i,0,1).getTimezoneOffset();i=new Date(i,6,1).getTimezoneOffset(),P[a>>2]=60*Math.max(l,i),j[s>>2]=+(l!=i),a=(s=h=>{var f=Math.abs(h);return`UTC${0<=h?"-":"+"}${String(Math.floor(f/60)).padStart(2,"0")}${String(f%60).padStart(2,"0")}`})(l),s=s(i),i<l?(r1(a,V,o,17),r1(s,V,t,17)):(r1(a,V,t,17),r1(s,V,o,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:a=>{var s=V.length;if(2147483648<(a>>>=0))return!1;for(var o=1;4>=o;o*=2){var t=s*(1+.2/o);t=Math.min(t,a+100663296);a:{t=(Math.min(2147483648,65536*Math.ceil(Math.max(a,t)/65536))-I1.buffer.byteLength+65535)/65536|0;try{I1.grow(t),D2();var i=1;break a}catch{}i=void 0}if(i)return!0}return!1},E:(a,s)=>{var o=0;return p0().forEach((t,i)=>{var l=s+o;for(i=P[a+4*i>>2]=l,l=0;l<t.length;++l)F[i++]=t.charCodeAt(l);F[i]=0,o+=t.length+1}),0},F:(a,s)=>{var o=p0();P[a>>2]=o.length;var t=0;return o.forEach(i=>t+=i.length+1),P[s>>2]=t,0},e:function(a){try{return A2(I(a)),0}catch(o){if("ErrnoError"!==o.name)throw o;return o.Pa}},p:function(a,s){try{var o=I(a);return F[s]=o.tty?2:G(o.mode)?3:40960==(61440&o.mode)?7:4,b1[s+2>>1]=0,s1[s+8>>3]=BigInt(0),s1[s+16>>3]=BigInt(0),0}catch(t){if("ErrnoError"!==t.name)throw t;return t.Pa}},w:function(a,s,o,t){try{a:{var i=I(a);a=s;for(var l,h=s=0;h<o;h++){var f=P[a>>2],H=P[a+4>>2];a+=8;var L=w0(i,F,f,H,l);if(0>L){var E=-1;break a}if(s+=L,L<H)break;typeof l<"u"&&(l+=L)}E=s}return P[t>>2]=E,0}catch($){if("ErrnoError"!==$.name)throw $;return $.Pa}},D:function(a,s,o,t){s=-9007199254740992>s||9007199254740992<s?NaN:Number(s);try{if(isNaN(s))return 61;var i=I(a);return g0(i,s,o),s1[t>>3]=BigInt(i.position),i.ob&&0===s&&0===o&&(i.ob=null),0}catch(l){if("ErrnoError"!==l.name)throw l;return l.Pa}},I:function(a){try{var s=I(a);return s.Ma?.fsync?s.Ma.fsync(s):0}catch(o){if("ErrnoError"!==o.name)throw o;return o.Pa}},t:function(a,s,o,t){try{a:{var i=I(a);a=s;for(var l,h=s=0;h<o;h++){var f=P[a>>2],H=P[a+4>>2];a+=8;var L=d0(i,F,f,H,l);if(0>L){var E=-1;break a}if(s+=L,L<H)break;typeof l<"u"&&(l+=L)}E=s}return P[t>>2]=E,0}catch($){if("ErrnoError"!==$.name)throw $;return $.Pa}},k:m0};W(function*(){function a(o){return I1=(k=o.exports).M,D2(),h1=k.O,x1--,e.monitorRunDependencies?.(x1),0==x1&&j1&&(o=j1,j1=null,o()),k}x1++,e.monitorRunDependencies?.(x1);var s={a:Y0};return e.instantiateWasm?new Promise(o=>{e.instantiateWasm(s,(t,i)=>{a(t),o(t.exports)})}):(g2??=e.locateFile?e.locateFile("sql-wasm.wasm",X):X+"sql-wasm.wasm",a((yield function T0(a){return m2.apply(this,arguments)}(s)).instance))})(),e._sqlite3_free=a=>(e._sqlite3_free=k.P)(a),e._sqlite3_value_text=a=>(e._sqlite3_value_text=k.Q)(a),e._sqlite3_prepare_v2=(a,s,o,t,i)=>(e._sqlite3_prepare_v2=k.R)(a,s,o,t,i),e._sqlite3_step=a=>(e._sqlite3_step=k.S)(a),e._sqlite3_reset=a=>(e._sqlite3_reset=k.T)(a),e._sqlite3_exec=(a,s,o,t,i)=>(e._sqlite3_exec=k.U)(a,s,o,t,i),e._sqlite3_finalize=a=>(e._sqlite3_finalize=k.V)(a),e._sqlite3_column_name=(a,s)=>(e._sqlite3_column_name=k.W)(a,s),e._sqlite3_column_text=(a,s)=>(e._sqlite3_column_text=k.X)(a,s),e._sqlite3_column_type=(a,s)=>(e._sqlite3_column_type=k.Y)(a,s),e._sqlite3_errmsg=a=>(e._sqlite3_errmsg=k.Z)(a),e._sqlite3_clear_bindings=a=>(e._sqlite3_clear_bindings=k._)(a),e._sqlite3_value_blob=a=>(e._sqlite3_value_blob=k.$)(a),e._sqlite3_value_bytes=a=>(e._sqlite3_value_bytes=k.aa)(a),e._sqlite3_value_double=a=>(e._sqlite3_value_double=k.ba)(a),e._sqlite3_value_int=a=>(e._sqlite3_value_int=k.ca)(a),e._sqlite3_value_type=a=>(e._sqlite3_value_type=k.da)(a),e._sqlite3_result_blob=(a,s,o,t)=>(e._sqlite3_result_blob=k.ea)(a,s,o,t),e._sqlite3_result_double=(a,s)=>(e._sqlite3_result_double=k.fa)(a,s),e._sqlite3_result_error=(a,s,o)=>(e._sqlite3_result_error=k.ga)(a,s,o),e._sqlite3_result_int=(a,s)=>(e._sqlite3_result_int=k.ha)(a,s),e._sqlite3_result_int64=(a,s)=>(e._sqlite3_result_int64=k.ia)(a,s),e._sqlite3_result_null=a=>(e._sqlite3_result_null=k.ja)(a),e._sqlite3_result_text=(a,s,o,t)=>(e._sqlite3_result_text=k.ka)(a,s,o,t),e._sqlite3_aggregate_context=(a,s)=>(e._sqlite3_aggregate_context=k.la)(a,s),e._sqlite3_column_count=a=>(e._sqlite3_column_count=k.ma)(a),e._sqlite3_data_count=a=>(e._sqlite3_data_count=k.na)(a),e._sqlite3_column_blob=(a,s)=>(e._sqlite3_column_blob=k.oa)(a,s),e._sqlite3_column_bytes=(a,s)=>(e._sqlite3_column_bytes=k.pa)(a,s),e._sqlite3_column_double=(a,s)=>(e._sqlite3_column_double=k.qa)(a,s),e._sqlite3_bind_blob=(a,s,o,t,i)=>(e._sqlite3_bind_blob=k.ra)(a,s,o,t,i),e._sqlite3_bind_double=(a,s,o)=>(e._sqlite3_bind_double=k.sa)(a,s,o),e._sqlite3_bind_int=(a,s,o)=>(e._sqlite3_bind_int=k.ta)(a,s,o),e._sqlite3_bind_text=(a,s,o,t,i)=>(e._sqlite3_bind_text=k.ua)(a,s,o,t,i),e._sqlite3_bind_parameter_index=(a,s)=>(e._sqlite3_bind_parameter_index=k.va)(a,s),e._sqlite3_sql=a=>(e._sqlite3_sql=k.wa)(a),e._sqlite3_normalized_sql=a=>(e._sqlite3_normalized_sql=k.xa)(a),e._sqlite3_changes=a=>(e._sqlite3_changes=k.ya)(a),e._sqlite3_close_v2=a=>(e._sqlite3_close_v2=k.za)(a),e._sqlite3_create_function_v2=(a,s,o,t,i,l,h,f,H)=>(e._sqlite3_create_function_v2=k.Aa)(a,s,o,t,i,l,h,f,H),e._sqlite3_update_hook=(a,s,o)=>(e._sqlite3_update_hook=k.Ba)(a,s,o),e._sqlite3_open=(a,s)=>(e._sqlite3_open=k.Ca)(a,s);var O2=e._malloc=a=>(O2=e._malloc=k.Da)(a),t2=e._free=a=>(t2=e._free=k.Ea)(a);e._RegisterExtensionFunctions=a=>(e._RegisterExtensionFunctions=k.Fa)(a);var u0=(a,s)=>(u0=k.Ga)(a,s),x0=(a,s)=>(x0=k.Ha)(a,s),R1=a=>(R1=k.Ia)(a),m1=a=>(m1=k.Ja)(a),D1=()=>(D1=k.Ka)();if(e.stackSave=()=>D1(),e.stackRestore=a=>R1(a),e.stackAlloc=a=>m1(a),e.cwrap=(a,s,o,t)=>{var i=!o||o.every(l=>"number"===l||"boolean"===l);return"string"!==s&&i&&!t?e["_"+a]:(...l)=>((a,s,o,t)=>{var i={string:L=>{var E=0;return null!=L&&0!==L&&(E=b2(L)),E},array:L=>{var E=m1(L.length);return F.set(L,E),E}};a=e["_"+a];var L,l=[],h=0;if(t)for(var f=0;f<t.length;f++){var H=i[o[f]];H?(0===h&&(h=D1()),l[f]=H(t[f])):l[f]=t[f]}return L=o=a(...l),0!==h&&R1(h),"string"===s?L?_(V,L):"":"boolean"===s?!!L:L})(a,s,o,l)},e.addFunction=P1,e.removeFunction=d1,e.UTF8ToString=x2,e.ALLOC_NORMAL=s2,e.allocate=o2,e.allocateUTF8OnStack=b2,e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();return function _2(){function a(){if(e.calledRun=!0,!K1){var s,o;if(e.noFSInit||J2||(J2=!0,t??=e.stdin,s??=e.stdout,o??=e.stderr,t?w1("stdin",t):y2("/dev/tty","/dev/stdin"),s?w1("stdout",null,s):y2("/dev/tty","/dev/stdout"),o?w1("stderr",null,o):y2("/dev/tty1","/dev/stderr"),f1("/dev/stdin",0),f1("/dev/stdout",1),f1("/dev/stderr",1)),k.N(),a0=!1,e.onRuntimeInitialized?.(),e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;){var t=e.postRun.shift();N2.unshift(t)}F2(N2)}}if(0<x1)j1=_2;else{if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)b0();F2(U2),0<x1?j1=_2:e.setStatus?(e.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>e.setStatus(""),1),a()},1)):a()}}(),D}),e1)};J.exports=v1,J.exports.default=v1},2940(J,F1,R){"use strict";R.d(F1,{WorkbookPageModule:()=>W4});var D,W=R(2200),e1=R(4341),v1=R(7343),l1=R(8132),U=R(467),a1=R(3112),S1=function(d,p){var A=function(){if(typeof window>"u")return new Map;if(!D){var d=window;d.Ionicons=d.Ionicons||{},D=d.Ionicons.map=d.Ionicons.map||new Map}return D}(),n=A.get(d);void 0===n?A.set(d,p):n!==p&&console.warn('[Ionicons Warning]: Multiple icons were mapped to name "'.concat(d,'". Ensure that multiple icons are not mapped to the same icon name.'))},w=R(3664),N=R(2615);let A4=(()=>{var d;class p{constructor(){this.lessons=[{id:"h-a",prompt:"A (Hiragana)",answer:"\u3042",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30a2",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u304a",toast:'That\'s "O", not "A"!\nLook at the right side - this one has a loop.'}]},{id:"h-i",prompt:"I (Hiragana)",answer:"\u3044",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30a4",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u308a",toast:'That\'s "RI"!\nThis one has connected strokes.'}]},{id:"h-u",prompt:"U (Hiragana)",answer:"\u3046",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30a6",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."}]},{id:"h-e",prompt:"E (Hiragana)",answer:"\u3048",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30a8",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3093",toast:'That\'s "N"!\nThis one curves smoothly without a top line.'}]},{id:"h-o",prompt:"O (Hiragana)",answer:"\u304a",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30aa",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3042",toast:'That\'s "A", not "O"!\nThis one has a more open shape without the loop.'}]},{id:"h-ka",prompt:"Ka (Hiragana)",answer:"\u304b",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30ab",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u304c",toast:'That\'s "GA"!\nThis one has dakuten (\u309b) marks.'}]},{id:"h-ki",prompt:"Ki (Hiragana)",answer:"\u304d",hint:"4 strokes",strokeCount:4,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30ad",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u304e",toast:'That\'s "Gi" with dakuten!\nThe prompt asks for "Ki" without the marks.'},{answer:"\u3055",toast:'That\'s "Sa"!\nThis one has a simpler top.'}]},{id:"h-ku",prompt:"Ku (Hiragana)",answer:"\u304f",hint:"1 stroke",strokeCount:1,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30af",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3050",toast:'That\'s "Gu" with dakuten!\nThe prompt asks for "Ku" without the marks.'},{answer:"\u3078",toast:'That\'s "He"!\nThis one is more horizontal.'}]},{id:"h-ke",prompt:"Ke (Hiragana)",answer:"\u3051",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30b1",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3052",toast:'That\'s "Ge" with dakuten!\nThe prompt asks for "Ke" without the marks.'},{answer:"\u306f",toast:'That\'s "Ha"!\nThis one has a loop on the right.'}]},{id:"h-ko",prompt:"Ko (Hiragana)",answer:"\u3053",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30b3",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3054",toast:'That\'s "Go" with dakuten!\nThe prompt asks for "Ko" without the marks.'},{answer:"\u306b",toast:'That\'s "Ni"!\nThis one has a vertical stroke on the left.'}]},{id:"h-sa",prompt:"Sa (Hiragana)",answer:"\u3055",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30b5",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3056",toast:'That\'s "Za" with dakuten!\nThe prompt asks for "Sa" without the marks.'},{answer:"\u304d",toast:'That\'s "Ki"!\nThis one has an extra horizontal stroke.'}]},{id:"h-shi",prompt:"Shi (Hiragana)",answer:"\u3057",hint:"1 stroke",strokeCount:1,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30b7",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3058",toast:'That\'s "Ji" with dakuten!\nThe prompt asks for "Shi" without the marks.'},{answer:"\u3064",toast:'That\'s "Tsu"!\nThis one curves horizontally.'}]},{id:"h-su",prompt:"Su (Hiragana)",answer:"\u3059",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30b9",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u305a",toast:'That\'s "Zu" with dakuten!\nThe prompt asks for "Su" without the marks.'},{answer:"\u3080",toast:'That\'s "Mu"!\nThis one has a loop at the bottom.'}]},{id:"h-se",prompt:"Se (Hiragana)",answer:"\u305b",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30bb",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u305c",toast:'That\'s "Ze" with dakuten!\nThe prompt asks for "Se" without the marks.'}]},{id:"h-so",prompt:"So (Hiragana)",answer:"\u305d",hint:"1 stroke",strokeCount:1,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30bd",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u305e",toast:'That\'s "Zo" with dakuten!\nThe prompt asks for "So" without the marks.'},{answer:"\u3093",toast:'That\'s "N"!\nThis one curves differently at the end.'}]},{id:"h-ta",prompt:"Ta (Hiragana)",answer:"\u305f",hint:"4 strokes",strokeCount:4,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30bf",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3060",toast:'That\'s "Da" with dakuten!\nThe prompt asks for "Ta" without the marks.'},{answer:"\u306a",toast:'That\'s "Na"!\nThis one has a different right side.'}]},{id:"h-chi",prompt:"Chi (Hiragana)",answer:"\u3061",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30c1",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3062",toast:'That\'s "Di" with dakuten!\nThe prompt asks for "Chi" without the marks.'},{answer:"\u3055",toast:'That\'s "Sa"!\nThis one has a longer top.'}]},{id:"h-tsu",prompt:"Tsu (Hiragana)",answer:"\u3064",hint:"1 stroke",strokeCount:1,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30c4",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3065",toast:'That\'s "Du" with dakuten!\nThe prompt asks for "Tsu" without the marks.'},{answer:"\u3057",toast:'That\'s "Shi"!\nThis one curves vertically.'}]},{id:"h-te",prompt:"Te (Hiragana)",answer:"\u3066",hint:"1 stroke",strokeCount:1,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30c6",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3067",toast:'That\'s "De" with dakuten!\nThe prompt asks for "Te" without the marks.'}]},{id:"h-to",prompt:"To (Hiragana)",answer:"\u3068",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30c8",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3069",toast:'That\'s "Do" with dakuten!\nThe prompt asks for "To" without the marks.'}]},{id:"h-na",prompt:"Na (Hiragana)",answer:"\u306a",hint:"4 strokes",strokeCount:4,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30ca",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u305f",toast:'That\'s "TA"!\nThis one has a different right side.'}]},{id:"h-ni",prompt:"Ni (Hiragana)",answer:"\u306b",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30cb",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3053",toast:'That\'s "KO"!\nThis one has no vertical stroke.'}]},{id:"h-nu",prompt:"Nu (Hiragana)",answer:"\u306c",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30cc",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3081",toast:'That\'s "ME"!\nThis one has no loop at the end.'}]},{id:"h-ne",prompt:"Ne (Hiragana)",answer:"\u306d",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30cd",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u308c",toast:'That\'s "RE"!\nThis one has no loop.'}]},{id:"h-no",prompt:"No (Hiragana)",answer:"\u306e",hint:"1 stroke",strokeCount:1,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30ce",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."}]},{id:"h-ha",prompt:"Ha (Hiragana)",answer:"\u306f",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30cf",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3070",toast:'That\'s "Ba" with dakuten!\nThe prompt asks for "Ha" without the marks.'},{answer:"\u3071",toast:'That\'s "Pa" with handakuten!\nThe prompt asks for "Ha" without the circle.'},{answer:"\u3051",toast:'That\'s "Ke"!\nThis one has no loop on the right.'}]},{id:"h-hi",prompt:"Hi (Hiragana)",answer:"\u3072",hint:"1 stroke",strokeCount:1,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30d2",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3073",toast:'That\'s "Bi" with dakuten!\nThe prompt asks for "Hi" without the marks.'},{answer:"\u3074",toast:'That\'s "Pi" with handakuten!\nThe prompt asks for "Hi" without the circle.'}]},{id:"h-fu",prompt:"Fu (Hiragana)",answer:"\u3075",hint:"4 strokes",strokeCount:4,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30d5",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3076",toast:'That\'s "Bu" with dakuten!\nThe prompt asks for "Fu" without the marks.'},{answer:"\u3077",toast:'That\'s "Pu" with handakuten!\nThe prompt asks for "Fu" without the circle.'}]},{id:"h-he",prompt:"He (Hiragana)",answer:"\u3078",hint:"1 stroke",strokeCount:1,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30d8",toast:"That's katakana!\nActually they look the same, but context matters!"},{answer:"\u3079",toast:'That\'s "Be" with dakuten!\nThe prompt asks for "He" without the marks.'},{answer:"\u307a",toast:'That\'s "Pe" with handakuten!\nThe prompt asks for "He" without the circle.'},{answer:"\u304f",toast:'That\'s "Ku"!\nThis one is more angled.'}]},{id:"h-ho",prompt:"Ho (Hiragana)",answer:"\u307b",hint:"4 strokes",strokeCount:4,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30db",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u307c",toast:'That\'s "Bo" with dakuten!\nThe prompt asks for "Ho" without the marks.'},{answer:"\u307d",toast:'That\'s "Po" with handakuten!\nThe prompt asks for "Ho" without the circle.'},{answer:"\u306f",toast:'That\'s "Ha"!\nThis one has no extra horizontal stroke.'}]},{id:"h-ma",prompt:"Ma (Hiragana)",answer:"\u307e",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30de",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3082",toast:'That\'s "MO"!\nThis one has no loop.'}]},{id:"h-mi",prompt:"Mi (Hiragana)",answer:"\u307f",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30df",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."}]},{id:"h-mu",prompt:"Mu (Hiragana)",answer:"\u3080",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30e0",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3059",toast:'That\'s "SU"!\nThis one has no loop at the bottom.'}]},{id:"h-me",prompt:"Me (Hiragana)",answer:"\u3081",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30e1",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u306c",toast:'That\'s "NU"!\nThis one has a loop at the end.'}]},{id:"h-mo",prompt:"Mo (Hiragana)",answer:"\u3082",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30e2",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u307e",toast:'That\'s "MA"!\nThis one has a loop.'}]},{id:"h-ya",prompt:"Ya (Hiragana)",answer:"\u3084",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30e4",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u304b",toast:'That\'s "KA"!\nThis one has a different shape.'}]},{id:"h-yu",prompt:"Yu (Hiragana)",answer:"\u3086",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30e6",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."}]},{id:"h-yo",prompt:"Yo (Hiragana)",answer:"\u3088",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30e8",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u307e",toast:'That\'s "MA"!\nThis one has a loop at the bottom.'}]},{id:"h-ra",prompt:"Ra (Hiragana)",answer:"\u3089",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30e9",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3061",toast:'That\'s "CHI"!\nThis one curves differently.'}]},{id:"h-ri",prompt:"Ri (Hiragana)",answer:"\u308a",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30ea",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3044",toast:'That\'s "I"!\nThis one has separate strokes.'}]},{id:"h-ru",prompt:"Ru (Hiragana)",answer:"\u308b",hint:"1 stroke",strokeCount:1,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30eb",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u308d",toast:'That\'s "RO"!\nThis one has no loop.'}]},{id:"h-re",prompt:"Re (Hiragana)",answer:"\u308c",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30ec",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u306d",toast:'That\'s "NE"!\nThis one has a loop.'}]},{id:"h-ro",prompt:"Ro (Hiragana)",answer:"\u308d",hint:"1 stroke",strokeCount:1,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30ed",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u308b",toast:'That\'s "RU"!\nThis one has a loop.'}]},{id:"h-wa",prompt:"Wa (Hiragana)",answer:"\u308f",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30ef",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u308c",toast:'That\'s "RE"!\nThis one has a different right side.'}]},{id:"h-wo",prompt:"Wo (Hiragana)",answer:"\u3092",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30f2",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."}]},{id:"h-n",prompt:"N (Hiragana)",answer:"\u3093",hint:"1 stroke",strokeCount:1,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30f3",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u305d",toast:'That\'s "SO"!\nThis one curves differently.'}]},{id:"h-ga",prompt:"Ga (Hiragana)",answer:"\u304c",hint:"3 strokes + dakuten",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30ac",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u304b",toast:'That\'s "Ka" without dakuten!\nAdd the two small marks (\u309b) for "Ga".'}]},{id:"h-gi",prompt:"Gi (Hiragana)",answer:"\u304e",hint:"4 strokes + dakuten",strokeCount:4,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30ae",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u304d",toast:'That\'s "Ki" without dakuten!\nAdd the two small marks (\u309b) for "Gi".'}]},{id:"h-gu",prompt:"Gu (Hiragana)",answer:"\u3050",hint:"1 stroke + dakuten",strokeCount:1,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30b0",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u304f",toast:'That\'s "Ku" without dakuten!\nAdd the two small marks (\u309b) for "Gu".'}]},{id:"h-ge",prompt:"Ge (Hiragana)",answer:"\u3052",hint:"3 strokes + dakuten",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30b2",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3051",toast:'That\'s "Ke" without dakuten!\nAdd the two small marks (\u309b) for "Ge".'}]},{id:"h-go",prompt:"Go (Hiragana)",answer:"\u3054",hint:"2 strokes + dakuten",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30b4",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3053",toast:'That\'s "Ko" without dakuten!\nAdd the two small marks (\u309b) for "Go".'}]},{id:"h-za",prompt:"Za (Hiragana)",answer:"\u3056",hint:"3 strokes + dakuten",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30b6",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3055",toast:'That\'s "Sa" without dakuten!\nAdd the two small marks (\u309b) for "Za".'}]},{id:"h-ji",prompt:"Ji (Hiragana)",answer:"\u3058",hint:"1 stroke + dakuten",strokeCount:1,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30b8",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3057",toast:'That\'s "Shi" without dakuten!\nAdd the two small marks (\u309b) for "Ji".'}]},{id:"h-zu",prompt:"Zu (Hiragana)",answer:"\u305a",hint:"2 strokes + dakuten",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30ba",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3059",toast:'That\'s "Su" without dakuten!\nAdd the two small marks (\u309b) for "Zu".'}]},{id:"h-ze",prompt:"Ze (Hiragana)",answer:"\u305c",hint:"3 strokes + dakuten",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30bc",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u305b",toast:'That\'s "Se" without dakuten!\nAdd the two small marks (\u309b) for "Ze".'}]},{id:"h-zo",prompt:"Zo (Hiragana)",answer:"\u305e",hint:"1 stroke + dakuten",strokeCount:1,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30be",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u305d",toast:'That\'s "So" without dakuten!\nAdd the two small marks (\u309b) for "Zo".'}]},{id:"h-da",prompt:"Da (Hiragana)",answer:"\u3060",hint:"4 strokes + dakuten",strokeCount:4,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30c0",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u305f",toast:'That\'s "Ta" without dakuten!\nAdd the two small marks (\u309b) for "Da".'}]},{id:"h-di",prompt:"Di (Hiragana)",answer:"\u3062",hint:"2 strokes + dakuten",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30c2",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3061",toast:'That\'s "Chi" without dakuten!\nAdd the two small marks (\u309b) for "Di".'},{answer:"\u3058",toast:'That\'s "Ji" (from shi)!\nThis one comes from "Chi" instead.'}]},{id:"h-du",prompt:"Du (Hiragana)",answer:"\u3065",hint:"1 stroke + dakuten",strokeCount:1,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30c5",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3064",toast:'That\'s "Tsu" without dakuten!\nAdd the two small marks (\u309b) for "Du".'},{answer:"\u305a",toast:'That\'s "Zu" (from su)!\nThis one comes from "Tsu" instead.'}]},{id:"h-de",prompt:"De (Hiragana)",answer:"\u3067",hint:"1 stroke + dakuten",strokeCount:1,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30c7",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3066",toast:'That\'s "Te" without dakuten!\nAdd the two small marks (\u309b) for "De".'}]},{id:"h-do",prompt:"Do (Hiragana)",answer:"\u3069",hint:"2 strokes + dakuten",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30c9",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3068",toast:'That\'s "To" without dakuten!\nAdd the two small marks (\u309b) for "Do".'}]},{id:"h-ba",prompt:"Ba (Hiragana)",answer:"\u3070",hint:"3 strokes + dakuten",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30d0",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u306f",toast:'That\'s "Ha" without dakuten!\nAdd the two small marks (\u309b) for "Ba".'},{answer:"\u3071",toast:'That\'s "Pa" with handakuten!\nUse two marks (\u309b) not a circle (\u309c).'}]},{id:"h-bi",prompt:"Bi (Hiragana)",answer:"\u3073",hint:"1 stroke + dakuten",strokeCount:1,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30d3",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3072",toast:'That\'s "Hi" without dakuten!\nAdd the two small marks (\u309b) for "Bi".'},{answer:"\u3074",toast:'That\'s "Pi" with handakuten!\nUse two marks (\u309b) not a circle (\u309c).'}]},{id:"h-bu",prompt:"Bu (Hiragana)",answer:"\u3076",hint:"4 strokes + dakuten",strokeCount:4,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30d6",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3075",toast:'That\'s "Fu" without dakuten!\nAdd the two small marks (\u309b) for "Bu".'},{answer:"\u3077",toast:'That\'s "Pu" with handakuten!\nUse two marks (\u309b) not a circle (\u309c).'}]},{id:"h-be",prompt:"Be (Hiragana)",answer:"\u3079",hint:"1 stroke + dakuten",strokeCount:1,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30d9",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3078",toast:'That\'s "He" without dakuten!\nAdd the two small marks (\u309b) for "Be".'},{answer:"\u307a",toast:'That\'s "Pe" with handakuten!\nUse two marks (\u309b) not a circle (\u309c).'}]},{id:"h-bo",prompt:"Bo (Hiragana)",answer:"\u307c",hint:"4 strokes + dakuten",strokeCount:4,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30dc",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u307b",toast:'That\'s "Ho" without dakuten!\nAdd the two small marks (\u309b) for "Bo".'},{answer:"\u307d",toast:'That\'s "Po" with handakuten!\nUse two marks (\u309b) not a circle (\u309c).'}]},{id:"h-pa",prompt:"Pa (Hiragana)",answer:"\u3071",hint:"3 strokes + handakuten",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30d1",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u306f",toast:'That\'s "Ha" without handakuten!\nAdd the small circle (\u309c) for "Pa".'},{answer:"\u3070",toast:'That\'s "Ba" with dakuten!\nUse a circle (\u309c) not two marks (\u309b).'}]},{id:"h-pi",prompt:"Pi (Hiragana)",answer:"\u3074",hint:"1 stroke + handakuten",strokeCount:1,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30d4",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3072",toast:'That\'s "Hi" without handakuten!\nAdd the small circle (\u309c) for "Pi".'},{answer:"\u3073",toast:'That\'s "Bi" with dakuten!\nUse a circle (\u309c) not two marks (\u309b).'}]},{id:"h-pu",prompt:"Pu (Hiragana)",answer:"\u3077",hint:"4 strokes + handakuten",strokeCount:4,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30d7",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3075",toast:'That\'s "Fu" without handakuten!\nAdd the small circle (\u309c) for "Pu".'},{answer:"\u3076",toast:'That\'s "Bu" with dakuten!\nUse a circle (\u309c) not two marks (\u309b).'}]},{id:"h-pe",prompt:"Pe (Hiragana)",answer:"\u307a",hint:"1 stroke + handakuten",strokeCount:1,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30da",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3078",toast:'That\'s "He" without handakuten!\nAdd the small circle (\u309c) for "Pe".'},{answer:"\u3079",toast:'That\'s "Be" with dakuten!\nUse a circle (\u309c) not two marks (\u309b).'}]},{id:"h-po",prompt:"Po (Hiragana)",answer:"\u307d",hint:"4 strokes + handakuten",strokeCount:4,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30dd",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u307b",toast:'That\'s "Ho" without handakuten!\nAdd the small circle (\u309c) for "Po".'},{answer:"\u307c",toast:'That\'s "Bo" with dakuten!\nUse a circle (\u309c) not two marks (\u309b).'}]},{id:"k-a",prompt:"A (Katakana)",answer:"\u30a2",hint:"2 strokes, angular",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3042",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30de",toast:'That\'s "MA"!\nSimilar angle, but different structure.'}]},{id:"k-i",prompt:"I (Katakana)",answer:"\u30a4",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3044",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."}]},{id:"k-u",prompt:"U (Katakana)",answer:"\u30a6",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3046",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30ef",toast:'That\'s "WA"!\nThis one has no top line.'}]},{id:"k-e",prompt:"E (Katakana)",answer:"\u30a8",hint:"3 strokes, like I-beam",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3048",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."}]},{id:"k-o",prompt:"O (Katakana)",answer:"\u30aa",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u304a",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30db",toast:'That\'s "HO"!\nThis one has an extra vertical stroke splitting the bottom.'}]},{id:"k-ka",prompt:"Ka (Katakana)",answer:"\u30ab",hint:"2 strokes, angular",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u304b",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30ac",toast:'That\'s "GA"!\nThis one has dakuten (\u309b) marks.'}]},{id:"k-ki",prompt:"Ki (Katakana)",answer:"\u30ad",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u304d",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30ae",toast:'That\'s "Gi" with dakuten!\nThe prompt asks for "Ki" without the marks.'}]},{id:"k-ku",prompt:"Ku (Katakana)",answer:"\u30af",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u304f",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30b0",toast:'That\'s "Gu" with dakuten!\nThe prompt asks for "Ku" without the marks.'},{answer:"\u30bf",toast:'That\'s "Ta"!\nThis one has an extra stroke.'}]},{id:"k-ke",prompt:"Ke (Katakana)",answer:"\u30b1",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3051",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30b2",toast:'That\'s "Ge" with dakuten!\nThe prompt asks for "Ke" without the marks.'}]},{id:"k-ko",prompt:"Ko (Katakana)",answer:"\u30b3",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3053",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30b4",toast:'That\'s "Go" with dakuten!\nThe prompt asks for "Ko" without the marks.'}]},{id:"k-sa",prompt:"Sa (Katakana)",answer:"\u30b5",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3055",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30b6",toast:'That\'s "Za" with dakuten!\nThe prompt asks for "Sa" without the marks.'},{answer:"\u30bb",toast:'That\'s "Se"!\nThis one has a different shape.'}]},{id:"k-shi",prompt:"Shi (Katakana)",answer:"\u30b7",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3057",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30b8",toast:'That\'s "Ji" with dakuten!\nThe prompt asks for "Shi" without the marks.'},{answer:"\u30c4",toast:'That\'s "Tsu"!\nThe strokes angle differently.'}]},{id:"k-su",prompt:"Su (Katakana)",answer:"\u30b9",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3059",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30ba",toast:'That\'s "Zu" with dakuten!\nThe prompt asks for "Su" without the marks.'}]},{id:"k-se",prompt:"Se (Katakana)",answer:"\u30bb",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u305b",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30bc",toast:'That\'s "Ze" with dakuten!\nThe prompt asks for "Se" without the marks.'},{answer:"\u30b5",toast:'That\'s "Sa"!\nThis one has a different shape.'}]},{id:"k-so",prompt:"So (Katakana)",answer:"\u30bd",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u305d",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30be",toast:'That\'s "Zo" with dakuten!\nThe prompt asks for "So" without the marks.'},{answer:"\u30f3",toast:'That\'s "N"!\nThe strokes angle differently.'}]},{id:"k-ta",prompt:"Ta (Katakana)",answer:"\u30bf",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u305f",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30c0",toast:'That\'s "Da" with dakuten!\nThe prompt asks for "Ta" without the marks.'},{answer:"\u30af",toast:'That\'s "Ku"!\nThis one has fewer strokes.'}]},{id:"k-chi",prompt:"Chi (Katakana)",answer:"\u30c1",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3061",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30c2",toast:'That\'s "Di" with dakuten!\nThe prompt asks for "Chi" without the marks.'},{answer:"\u30c6",toast:'That\'s "Te"!\nThis one has a different bottom.'}]},{id:"k-tsu",prompt:"Tsu (Katakana)",answer:"\u30c4",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3064",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30c5",toast:'That\'s "Du" with dakuten!\nThe prompt asks for "Tsu" without the marks.'},{answer:"\u30b7",toast:'That\'s "Shi"!\nThe strokes angle differently.'}]},{id:"k-te",prompt:"Te (Katakana)",answer:"\u30c6",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3066",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30c7",toast:'That\'s "De" with dakuten!\nThe prompt asks for "Te" without the marks.'}]},{id:"k-to",prompt:"To (Katakana)",answer:"\u30c8",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3068",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30c9",toast:'That\'s "Do" with dakuten!\nThe prompt asks for "To" without the marks.'}]},{id:"k-na",prompt:"Na (Katakana)",answer:"\u30ca",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u306a",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30e1",toast:'That\'s "ME"!\nThis one crosses differently.'}]},{id:"k-ni",prompt:"Ni (Katakana)",answer:"\u30cb",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u306b",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."}]},{id:"k-nu",prompt:"Nu (Katakana)",answer:"\u30cc",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u306c",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."}]},{id:"k-ne",prompt:"Ne (Katakana)",answer:"\u30cd",hint:"4 strokes",strokeCount:4,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u306d",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."}]},{id:"k-no",prompt:"No (Katakana)",answer:"\u30ce",hint:"1 stroke",strokeCount:1,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u306e",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."}]},{id:"k-ha",prompt:"Ha (Katakana)",answer:"\u30cf",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u306f",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30d0",toast:'That\'s "Ba" with dakuten!\nThe prompt asks for "Ha" without the marks.'},{answer:"\u30d1",toast:'That\'s "Pa" with handakuten!\nThe prompt asks for "Ha" without the circle.'}]},{id:"k-hi",prompt:"Hi (Katakana)",answer:"\u30d2",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3072",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30d3",toast:'That\'s "Bi" with dakuten!\nThe prompt asks for "Hi" without the marks.'},{answer:"\u30d4",toast:'That\'s "Pi" with handakuten!\nThe prompt asks for "Hi" without the circle.'}]},{id:"k-fu",prompt:"Fu (Katakana)",answer:"\u30d5",hint:"1 stroke",strokeCount:1,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3075",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30d6",toast:'That\'s "Bu" with dakuten!\nThe prompt asks for "Fu" without the marks.'},{answer:"\u30d7",toast:'That\'s "Pu" with handakuten!\nThe prompt asks for "Fu" without the circle.'}]},{id:"k-he",prompt:"He (Katakana)",answer:"\u30d8",hint:"1 stroke",strokeCount:1,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3078",toast:"That's hiragana!\nActually they look the same, but context matters!"},{answer:"\u30d9",toast:'That\'s "Be" with dakuten!\nThe prompt asks for "He" without the marks.'},{answer:"\u30da",toast:'That\'s "Pe" with handakuten!\nThe prompt asks for "He" without the circle.'}]},{id:"k-ho",prompt:"Ho (Katakana)",answer:"\u30db",hint:"4 strokes",strokeCount:4,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u307b",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30dc",toast:'That\'s "Bo" with dakuten!\nThe prompt asks for "Ho" without the marks.'},{answer:"\u30dd",toast:'That\'s "Po" with handakuten!\nThe prompt asks for "Ho" without the circle.'},{answer:"\u30aa",toast:'That\'s "O"!\nThis one has no middle vertical stroke.'}]},{id:"k-ma",prompt:"Ma (Katakana)",answer:"\u30de",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u307e",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30a2",toast:'That\'s "A"!\nThis one has a different angle.'}]},{id:"k-mi",prompt:"Mi (Katakana)",answer:"\u30df",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u307f",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."}]},{id:"k-mu",prompt:"Mu (Katakana)",answer:"\u30e0",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3080",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."}]},{id:"k-me",prompt:"Me (Katakana)",answer:"\u30e1",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3081",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30ca",toast:'That\'s "NA"!\nThis one crosses differently.'}]},{id:"k-mo",prompt:"Mo (Katakana)",answer:"\u30e2",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3082",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."}]},{id:"k-ya",prompt:"Ya (Katakana)",answer:"\u30e4",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3084",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."}]},{id:"k-yu",prompt:"Yu (Katakana)",answer:"\u30e6",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3086",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."}]},{id:"k-yo",prompt:"Yo (Katakana)",answer:"\u30e8",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3088",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."}]},{id:"k-ra",prompt:"Ra (Katakana)",answer:"\u30e9",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3089",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."}]},{id:"k-ri",prompt:"Ri (Katakana)",answer:"\u30ea",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u308a",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."}]},{id:"k-ru",prompt:"Ru (Katakana)",answer:"\u30eb",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u308b",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."}]},{id:"k-re",prompt:"Re (Katakana)",answer:"\u30ec",hint:"1 stroke",strokeCount:1,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u308c",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."}]},{id:"k-ro",prompt:"Ro (Katakana)",answer:"\u30ed",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u308d",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."}]},{id:"k-wa",prompt:"Wa (Katakana)",answer:"\u30ef",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u308f",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30a6",toast:'That\'s "U"!\nThis one has a top stroke.'}]},{id:"k-wo",prompt:"Wo (Katakana)",answer:"\u30f2",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3092",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."}]},{id:"k-n",prompt:"N (Katakana)",answer:"\u30f3",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3093",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30bd",toast:'That\'s "SO"!\nThe strokes angle differently.'}]},{id:"k-ga",prompt:"Ga (Katakana)",answer:"\u30ac",hint:"2 strokes + dakuten",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u304c",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30ab",toast:'That\'s "Ka" without dakuten!\nAdd the two small marks (\u309b) for "Ga".'}]},{id:"k-gi",prompt:"Gi (Katakana)",answer:"\u30ae",hint:"3 strokes + dakuten",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u304e",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30ad",toast:'That\'s "Ki" without dakuten!\nAdd the two small marks (\u309b) for "Gi".'}]},{id:"k-gu",prompt:"Gu (Katakana)",answer:"\u30b0",hint:"2 strokes + dakuten",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3050",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30af",toast:'That\'s "Ku" without dakuten!\nAdd the two small marks (\u309b) for "Gu".'}]},{id:"k-ge",prompt:"Ge (Katakana)",answer:"\u30b2",hint:"3 strokes + dakuten",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3052",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30b1",toast:'That\'s "Ke" without dakuten!\nAdd the two small marks (\u309b) for "Ge".'}]},{id:"k-go",prompt:"Go (Katakana)",answer:"\u30b4",hint:"2 strokes + dakuten",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3054",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30b3",toast:'That\'s "Ko" without dakuten!\nAdd the two small marks (\u309b) for "Go".'}]},{id:"k-za",prompt:"Za (Katakana)",answer:"\u30b6",hint:"3 strokes + dakuten",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3056",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30b5",toast:'That\'s "Sa" without dakuten!\nAdd the two small marks (\u309b) for "Za".'}]},{id:"k-ji",prompt:"Ji (Katakana)",answer:"\u30b8",hint:"3 strokes + dakuten",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3058",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30b7",toast:'That\'s "Shi" without dakuten!\nAdd the two small marks (\u309b) for "Ji".'}]},{id:"k-zu",prompt:"Zu (Katakana)",answer:"\u30ba",hint:"2 strokes + dakuten",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u305a",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30b9",toast:'That\'s "Su" without dakuten!\nAdd the two small marks (\u309b) for "Zu".'}]},{id:"k-ze",prompt:"Ze (Katakana)",answer:"\u30bc",hint:"2 strokes + dakuten",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u305c",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30bb",toast:'That\'s "Se" without dakuten!\nAdd the two small marks (\u309b) for "Ze".'}]},{id:"k-zo",prompt:"Zo (Katakana)",answer:"\u30be",hint:"2 strokes + dakuten",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u305e",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30bd",toast:'That\'s "So" without dakuten!\nAdd the two small marks (\u309b) for "Zo".'}]},{id:"k-da",prompt:"Da (Katakana)",answer:"\u30c0",hint:"3 strokes + dakuten",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3060",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30bf",toast:'That\'s "Ta" without dakuten!\nAdd the two small marks (\u309b) for "Da".'}]},{id:"k-di",prompt:"Di (Katakana)",answer:"\u30c2",hint:"3 strokes + dakuten",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3062",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30c1",toast:'That\'s "Chi" without dakuten!\nAdd the two small marks (\u309b) for "Di".'},{answer:"\u30b8",toast:'That\'s "Ji" (from Shi)!\nThis one comes from "Chi" instead.'}]},{id:"k-du",prompt:"Du (Katakana)",answer:"\u30c5",hint:"3 strokes + dakuten",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3065",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30c4",toast:'That\'s "Tsu" without dakuten!\nAdd the two small marks (\u309b) for "Du".'},{answer:"\u30ba",toast:'That\'s "Zu" (from Su)!\nThis one comes from "Tsu" instead.'}]},{id:"k-de",prompt:"De (Katakana)",answer:"\u30c7",hint:"3 strokes + dakuten",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3067",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30c6",toast:'That\'s "Te" without dakuten!\nAdd the two small marks (\u309b) for "De".'}]},{id:"k-do",prompt:"Do (Katakana)",answer:"\u30c9",hint:"2 strokes + dakuten",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3069",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30c8",toast:'That\'s "To" without dakuten!\nAdd the two small marks (\u309b) for "Do".'}]},{id:"k-ba",prompt:"Ba (Katakana)",answer:"\u30d0",hint:"2 strokes + dakuten",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3070",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30cf",toast:'That\'s "Ha" without dakuten!\nAdd the two small marks (\u309b) for "Ba".'},{answer:"\u30d1",toast:'That\'s "Pa" with handakuten!\nUse two marks (\u309b) not a circle (\u309c).'}]},{id:"k-bi",prompt:"Bi (Katakana)",answer:"\u30d3",hint:"2 strokes + dakuten",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3073",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30d2",toast:'That\'s "Hi" without dakuten!\nAdd the two small marks (\u309b) for "Bi".'},{answer:"\u30d4",toast:'That\'s "Pi" with handakuten!\nUse two marks (\u309b) not a circle (\u309c).'}]},{id:"k-bu",prompt:"Bu (Katakana)",answer:"\u30d6",hint:"1 stroke + dakuten",strokeCount:1,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3076",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30d5",toast:'That\'s "Fu" without dakuten!\nAdd the two small marks (\u309b) for "Bu".'},{answer:"\u30d7",toast:'That\'s "Pu" with handakuten!\nUse two marks (\u309b) not a circle (\u309c).'}]},{id:"k-be",prompt:"Be (Katakana)",answer:"\u30d9",hint:"1 stroke + dakuten",strokeCount:1,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3079",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30d8",toast:'That\'s "He" without dakuten!\nAdd the two small marks (\u309b) for "Be".'},{answer:"\u30da",toast:'That\'s "Pe" with handakuten!\nUse two marks (\u309b) not a circle (\u309c).'}]},{id:"k-bo",prompt:"Bo (Katakana)",answer:"\u30dc",hint:"4 strokes + dakuten",strokeCount:4,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u307c",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30db",toast:'That\'s "Ho" without dakuten!\nAdd the two small marks (\u309b) for "Bo".'},{answer:"\u30dd",toast:'That\'s "Po" with handakuten!\nUse two marks (\u309b) not a circle (\u309c).'}]},{id:"k-pa",prompt:"Pa (Katakana)",answer:"\u30d1",hint:"2 strokes + handakuten",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3071",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30cf",toast:'That\'s "Ha" without handakuten!\nAdd the small circle (\u309c) for "Pa".'},{answer:"\u30d0",toast:'That\'s "Ba" with dakuten!\nUse a circle (\u309c) not two marks (\u309b).'}]},{id:"k-pi",prompt:"Pi (Katakana)",answer:"\u30d4",hint:"2 strokes + handakuten",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3074",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30d2",toast:'That\'s "Hi" without handakuten!\nAdd the small circle (\u309c) for "Pi".'},{answer:"\u30d3",toast:'That\'s "Bi" with dakuten!\nUse a circle (\u309c) not two marks (\u309b).'}]},{id:"k-pu",prompt:"Pu (Katakana)",answer:"\u30d7",hint:"1 stroke + handakuten",strokeCount:1,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3077",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30d5",toast:'That\'s "Fu" without handakuten!\nAdd the small circle (\u309c) for "Pu".'},{answer:"\u30d6",toast:'That\'s "Bu" with dakuten!\nUse a circle (\u309c) not two marks (\u309b).'}]},{id:"k-pe",prompt:"Pe (Katakana)",answer:"\u30da",hint:"1 stroke + handakuten",strokeCount:1,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u307a",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30d8",toast:'That\'s "He" without handakuten!\nAdd the small circle (\u309c) for "Pe".'},{answer:"\u30d9",toast:'That\'s "Be" with dakuten!\nUse a circle (\u309c) not two marks (\u309b).'}]},{id:"k-po",prompt:"Po (Katakana)",answer:"\u30dd",hint:"4 strokes + handakuten",strokeCount:4,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u307d",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30db",toast:'That\'s "Ho" without handakuten!\nAdd the small circle (\u309c) for "Po".'},{answer:"\u30dc",toast:'That\'s "Bo" with dakuten!\nUse a circle (\u309c) not two marks (\u309b).'}]},{id:"kj-ichi",prompt:"One (Number)",answer:"\u4e00",hint:"Single horizontal stroke",strokeCount:1,stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[]},{id:"kj-ni",prompt:"Two (Number)",answer:"\u4e8c",hint:"Two horizontal strokes",strokeCount:2,stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[]},{id:"kj-san",prompt:"Three (Number)",answer:"\u4e09",hint:"Three horizontal strokes",strokeCount:3,stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[]},{id:"kj-hi",prompt:"Sun / Day",answer:"\u65e5",hint:"4 strokes, box shape",strokeCount:4,stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u76ee",toast:'That means "eye"!\nThis one has an extra horizontal line inside.'}]},{id:"kj-tsuki",prompt:"Moon / Month",answer:"\u6708",hint:"4 strokes",strokeCount:4,stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u65e5",toast:'That means "sun/day"!\nThis one is more square-shaped.'}]},{id:"kj-yama",prompt:"Mountain",answer:"\u5c71",hint:"3 strokes, looks like peaks",strokeCount:3,stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[]},{id:"kj-kawa",prompt:"River",answer:"\u5ddd",hint:"3 vertical strokes",strokeCount:3,stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[]},{id:"kj-ki",prompt:"Tree / Wood",answer:"\u6728",hint:"4 strokes",strokeCount:4,stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u672c",toast:'That means "book/origin"!\nThis one has an extra stroke at the bottom.'}]},{id:"kw-koohii",prompt:"Coffee",answer:"\u30b3\u30fc\u30d2\u30fc",hint:"ko-hi- with long vowels",stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u30b3\u30b3\u30a2",toast:'That\'s "cocoa/hot chocolate"!\nThink caffeinated drink from beans.'}]},{id:"kw-terebi",prompt:"Television",answer:"\u30c6\u30ec\u30d3",hint:"te-re-bi",stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u30e9\u30b8\u30aa",toast:'That\'s "radio" (audio only)!\nThe prompt asks for the device with a screen.'}]},{id:"kw-konpyuutaa",prompt:"Computer",answer:"\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc",hint:"kon-pyu-u-ta-a",stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u30b9\u30de\u30db",toast:'That\'s "smartphone"!\nThe prompt asks for the larger device.'}]},{id:"kw-pan",prompt:"Bread",answer:"\u30d1\u30f3",hint:'From Portuguese "p\xe3o"',stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u3054\u306f\u3093",toast:'That\'s "rice"!\nThe prompt asks for the wheat-based food.'}]},{id:"kw-aisu",prompt:"Ice Cream",answer:"\u30a2\u30a4\u30b9",hint:"a-i-su",stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[]},{id:"kjw-omou",prompt:"To Think (Opinion/Feeling)",answer:"\u601d\u3046",hint:"omou - subjective thinking",stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u8003\u3048\u308b",toast:'That\'s "to reason/consider"!\nThis one is for thinking through a problem logically.'},{answer:"\u77e5\u3063\u3066\u3044\u308b",toast:'That\'s "to know"!\nThis one is about having information, not forming thoughts.'}]},{id:"kjw-taberu",prompt:"To Eat",answer:"\u98df\u3079\u308b",hint:"taberu",stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u98f2\u3080",toast:'That\'s "to drink"!\nThe prompt asks about solid food.'}]},{id:"kjw-miru",prompt:"To See / Watch",answer:"\u898b\u308b",hint:"miru",stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u805e\u304f",toast:'That\'s "to hear/listen"!\nThe prompt asks about visual perception.'}]},{id:"kjw-iku",prompt:"To Go",answer:"\u884c\u304f",hint:"iku",stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u6765\u308b",toast:'That\'s "to come"!\nThis one means movement toward the speaker.'}]},{id:"kjw-kuru",prompt:"To Come",answer:"\u6765\u308b",hint:"kuru",stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u884c\u304f",toast:'That\'s "to go"!\nThis one means movement away from the speaker.'}]},{id:"kjw-nihon",prompt:"Japan",answer:"\u65e5\u672c",hint:'nihon - "sun origin"',stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u65e5\u66dc\u65e5",toast:'That\'s "Sunday"!\nThe prompt asks for a country, not a day.'}]},{id:"kjw-sensei",prompt:"Teacher",answer:"\u5148\u751f",hint:"sensei",stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u5b66\u751f",toast:'That\'s "student"!\nThe prompt asks for the one who teaches.'}]},{id:"kjw-gakusei",prompt:"Student",answer:"\u5b66\u751f",hint:"gakusei",stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u5148\u751f",toast:'That\'s "teacher"!\nThe prompt asks for the one who learns.'}]}]}getAllLessons(){return this.lessons}getLessonById(n){return this.lessons.find(r=>r.id===n)}getLessonsByStage(n){return this.lessons.filter(r=>r.stage===n)}getAvailableLessons(){return this.lessons.filter(n=>n.stage>=0)}getUnlockedLessons(){const n=new Date;return this.lessons.filter(r=>r.stage>=0&&new Date(r.unlocks)<=n)}getRandomUnlockedLesson(){const n=this.getUnlockedLessons();if(0!==n.length)return n[Math.floor(Math.random()*n.length)]}getLessonByAnswer(n){return this.lessons.find(r=>r.answer===n)}setLessonStage(n,r){const v=this.lessons.find(x=>x.id===n);v&&(v.stage=r)}getStrokeCount(n){return this.lessons.find(v=>v.answer===n)?.strokeCount??0}static#a=d=()=>(this.\u0275fac=function(r){return new(r||p)},this.\u0275prov=N.jDH({token:p,factory:p.\u0275fac,providedIn:"root"}))}return d(),p})(),V4=(()=>{var d;class p{constructor(n){this.lessonsService=n,this.API_URL="https://inputtools.google.com/request?itc=ja-t-i0-handwrit&app=translate"}recognize(n,r,v){var x=this;return(0,U.A)(function*(){if(0===n.length)return[];const y=n.map(C=>{const S=[],K=[],q=[];for(const p1 of C)S.push(Math.round(p1.x)),K.push(Math.round(p1.y)),q.push(p1.t);return[S,K,q]}),b={app_version:.4,api_level:"537.36",device:navigator.userAgent,input_type:0,options:"enable_pre_space",requests:[{max_completions:0,max_num_results:10,pre_context:"",writing_guide:{writing_area_height:v,writing_area_width:r},ink:y}]};try{const S=yield(yield fetch(x.API_URL,{method:"POST",body:JSON.stringify(b),headers:{"Content-Type":"application/json"}})).json();return x.parseResponse(S)}catch(C){throw console.error("Recognition failed:",C),new Error("Handwriting recognition failed. Please check your internet connection.")}})()}parseResponse(n){if(!n||"SUCCESS"!==n[0])return[];const r=n[1]?.[0]?.[1];return r&&0!==r.length?r.map((v,x)=>({character:v,score:Math.max(100-10*x,10)})):[]}getExpectedStrokeCount(n){return this.lessonsService.getStrokeCount(n)}static#a=d=()=>(this.\u0275fac=function(r){return new(r||p)(N.KVO(A4))},this.\u0275prov=N.jDH({token:p,factory:p.\u0275fac,providedIn:"root"}))}return d(),p})();var S4=R(1427),T4=R.n(S4);let O4=(()=>{var d;class p{constructor(n){this.loadingCtrl=n,this.db=null,this.initPromise=null}initialize(){var n=this;return(0,U.A)(function*(){if(!n.db)return n.initPromise||(n.initPromise=n.doInitialize()),n.initPromise})()}doInitialize(){var n=this;return(0,U.A)(function*(){const r=yield T4()({locateFile:y=>`/${y}`}),v=yield n.loadFromStorage();if(v)return n.db=new r.Database(v),void console.log("Loaded cards database from storage");const x=yield n.loadingCtrl.create({message:"\u3061\u3087\u3063\u3068\u5f85\u3063\u3066\u304f\u3060\u3055\u3044...",spinner:"crescent"});yield x.present();try{n.db=new r.Database,yield n.buildDatabase(),yield n.saveToStorage(),console.log("Built and saved cards database")}finally{yield x.dismiss()}})()}buildDatabase(){var n=this;return(0,U.A)(function*(){if(!n.db)return;n.db.run("\n      CREATE TABLE cards (\n        id TEXT PRIMARY KEY,\n        prompt TEXT NOT NULL,\n        answer TEXT NOT NULL,\n        hint TEXT,\n        stroke_count INTEGER,\n        stage INTEGER NOT NULL DEFAULT 0,\n        unlocks TEXT NOT NULL,\n        category TEXT NOT NULL\n      );\n\n      CREATE TABLE befuddlers (\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\n        card_id TEXT NOT NULL,\n        answer TEXT NOT NULL,\n        toast TEXT NOT NULL,\n        FOREIGN KEY (card_id) REFERENCES cards(id)\n      );\n\n      CREATE INDEX idx_cards_stage ON cards(stage);\n      CREATE INDEX idx_cards_answer ON cards(answer);\n      CREATE INDEX idx_cards_category ON cards(category);\n      CREATE INDEX idx_befuddlers_card ON befuddlers(card_id);\n    ");const r=["hiragana","katakana","kanji","katakana-words","kanji-words"];for(const v of r)try{const x=yield fetch(`/data/cards/${v}.yaml`);if(!x.ok)continue;const y=yield x.text(),b=n.parseYaml(y);for(const C of b)if(C.id&&C.prompt&&C.answer){n.db.run("INSERT INTO cards (id, prompt, answer, hint, stroke_count, stage, unlocks, category)\n             VALUES (?, ?, ?, ?, ?, ?, ?, ?)",[C.id,C.prompt,C.answer,C.hint??null,C.strokeCount??null,C.stage??0,C.unlocks??"",v]);for(const S of C.befuddlers??[])n.db.run("INSERT INTO befuddlers (card_id, answer, toast) VALUES (?, ?, ?)",[C.id,S.answer,S.toast])}console.log(`Loaded ${b.length} cards from ${v}`)}catch(x){console.warn(`Failed to load ${v}:`,x)}})()}parseYaml(n){const r=[];let v=null,x=null,y=!1;const b=n.split("\n");for(const C of b){if(!C.trim())continue;const S=C.search(/\S/),K=C.trim();if(0===S&&K.startsWith("- ")){x&&v&&(v.befuddlers=v.befuddlers||[],v.befuddlers.push(x)),v&&r.push(v),v={befuddlers:[]},x=null,y=!1;const q=K.match(/^- (\w+): (.+)$/);q&&(v[q[1]]=this.parseValue(q[2]));continue}if(2===S&&v&&!K.startsWith("-")){const q=K.match(/^(\w+): (.+)$/);if(q){const p1=q[1],E2=q[2];"befuddlers"===p1&&"[]"===E2?(v.befuddlers=[],y=!1):"befuddlers"===p1?y=!0:v[p1]=this.parseValue(E2)}else"befuddlers:"===K&&(y=!0);continue}if(4===S&&K.startsWith("- ")&&y&&v){x&&(v.befuddlers=v.befuddlers||[],v.befuddlers.push(x)),x={answer:"",toast:""};const q=K.match(/^- (\w+): (.+)$/);q&&(x[q[1]]=this.parseValue(q[2]));continue}if(6===S&&x){const q=K.match(/^(\w+): (.+)$/);q&&(x[q[1]]=this.parseValue(q[2]));continue}}return x&&v&&(v.befuddlers=v.befuddlers||[],v.befuddlers.push(x)),v&&r.push(v),r}parseValue(n){return(n.startsWith('"')&&n.endsWith('"')||n.startsWith("'")&&n.endsWith("'"))&&(n=(n=n.slice(1,-1)).replace(/\\n/g,"\n").replace(/\\"/g,'"').replace(/\\\\/g,"\\")),/^-?\d+$/.test(n)?parseInt(n,10):n}openIDB(){return new Promise((n,r)=>{const v=indexedDB.open("mojidoodle-cards",1);v.onerror=()=>r(v.error),v.onsuccess=()=>n(v.result),v.onupgradeneeded=x=>{const y=x.target.result;y.objectStoreNames.contains("data")||y.createObjectStore("data")}})}loadFromStorage(){var n=this;return(0,U.A)(function*(){try{const r=yield n.openIDB();return new Promise(v=>{const b=r.transaction("data","readonly").objectStore("data").get("db");b.onsuccess=()=>v(b.result||null),b.onerror=()=>v(null)})}catch{return null}})()}saveToStorage(){var n=this;return(0,U.A)(function*(){if(n.db)try{const r=n.db.export(),v=yield n.openIDB();return new Promise((x,y)=>{const S=v.transaction("data","readwrite").objectStore("data").put(r,"db");S.onsuccess=()=>x(),S.onerror=()=>y(S.error)})}catch(r){console.error("Failed to save db to storage:",r)}})()}queryOne(n,r=[]){if(!this.db)return null;const v=this.db.exec(n,r);if(0===v.length||0===v[0].values.length)return null;const y=v[0].values[0],b={};return v[0].columns.forEach((C,S)=>b[C]=y[S]),b}queryAll(n,r=[]){if(!this.db)return[];const v=this.db.exec(n,r);if(0===v.length)return[];const x=v[0].columns;return v[0].values.map(y=>{const b={};return x.forEach((C,S)=>b[C]=y[S]),b})}attachBefuddlers(n){const r=this.queryAll("SELECT answer, toast FROM befuddlers WHERE card_id = ?",[n.id]);return{...n,strokeCount:n.stroke_count,befuddlers:r}}getAllCards(){return this.queryAll("SELECT * FROM cards").map(r=>this.attachBefuddlers(r))}getCardById(n){const r=this.queryOne("SELECT * FROM cards WHERE id = ?",[n]);if(r)return this.attachBefuddlers(r)}getCardsByStage(n){return this.queryAll("SELECT * FROM cards WHERE stage = ?",[n]).map(v=>this.attachBefuddlers(v))}getCardsByCategory(n){return this.queryAll("SELECT * FROM cards WHERE category = ?",[n]).map(v=>this.attachBefuddlers(v))}getAvailableCards(){return this.queryAll("SELECT * FROM cards WHERE stage >= 0").map(r=>this.attachBefuddlers(r))}getUnlockedCards(){const n=(new Date).toISOString();return this.queryAll("SELECT * FROM cards WHERE stage >= 0 AND unlocks <= ?",[n]).map(v=>this.attachBefuddlers(v))}getRandomUnlockedCard(){const n=(new Date).toISOString(),r=this.queryOne("SELECT * FROM cards WHERE stage >= 0 AND unlocks <= ? ORDER BY RANDOM() LIMIT 1",[n]);if(r)return this.attachBefuddlers(r)}getCardByAnswer(n){const r=this.queryOne("SELECT * FROM cards WHERE answer = ?",[n]);if(r)return this.attachBefuddlers(r)}setCardStage(n,r){this.db&&(this.db.run("UPDATE cards SET stage = ? WHERE id = ?",[r,n]),this.saveToStorage())}getStrokeCount(n){return this.queryOne("SELECT stroke_count FROM cards WHERE answer = ?",[n])?.stroke_count??0}rebuild(){var n=this;return(0,U.A)(function*(){try{(yield n.openIDB()).transaction("data","readwrite").objectStore("data").delete("db")}catch{}n.db=null,n.initPromise=null,yield n.initialize()})()}static#a=d=()=>(this.\u0275fac=function(r){return new(r||p)(N.KVO(v1.Xi))},this.\u0275prov=N.jDH({token:p,factory:p.\u0275fac,providedIn:"root"}))}return d(),p})();const _4=["canvas"];function q4(d,p){1&d&&w.nrm(0,"ion-spinner",13)}function E4(d,p){if(1&d&&(w.j41(0,"span"),w.EFF(1),w.k0s()),2&d){const A=w.XpG();w.R7$(),w.JRh(A.checkButtonText)}}function P4(d,p){1&d&&(w.j41(0,"span"),w.EFF(1,"\u25ef"),w.k0s())}function R4(d,p){1&d&&(w.j41(0,"span"),w.EFF(1,"\uff1f"),w.k0s())}function D4(d,p){1&d&&(w.j41(0,"span"),w.EFF(1,"\u2715"),w.k0s())}function F4(d,p){if(1&d&&(w.j41(0,"div",25)(1,"span",26),w.EFF(2),w.k0s()()),2&d){const A=p.$implicit;w.R7$(2),w.JRh(A.character)}}function N4(d,p){if(1&d&&(w.j41(0,"div",21)(1,"div",22),w.EFF(2,"Recognized:"),w.k0s(),w.j41(3,"div",23),w.DNE(4,F4,3,1,"div",24),w.k0s()()),2&d){const A=w.XpG(2);w.R7$(4),w.Y8G("ngForOf",A.displayMatches)}}function U4(d,p){if(1&d){const A=w.RV6();w.j41(0,"div",14),w.bIt("click",function(){N.eBV(A);const r=w.XpG();return N.Njj(r.dismissResults())}),w.j41(1,"div",15),w.bIt("click",function(r){return N.eBV(A),N.Njj(r.stopPropagation())}),w.j41(2,"div",16),w.DNE(3,P4,2,0,"span",11)(4,R4,2,0,"span",11)(5,D4,2,0,"span",11),w.k0s(),w.j41(6,"div",17),w.EFF(7),w.k0s(),w.j41(8,"div",18),w.EFF(9),w.k0s(),w.DNE(10,N4,5,1,"div",19),w.j41(11,"ion-button",20),w.bIt("click",function(){N.eBV(A);const r=w.XpG();return N.Njj(r.dismissResults())}),w.EFF(12),w.k0s()()()}if(2&d){const A=w.XpG();w.R7$(),w.HbH(A.resultStatus),w.R7$(2),w.Y8G("ngIf","correct"===A.resultStatus),w.R7$(),w.Y8G("ngIf","befuddled"===A.resultStatus),w.R7$(),w.Y8G("ngIf","wrong"===A.resultStatus),w.R7$(2),w.JRh(A.resultFeedback),w.R7$(2),w.JRh(A.strokeCountInfo),w.R7$(),w.Y8G("ngIf",A.displayMatches.length>0),w.R7$(2),w.JRh(A.dismissButtonText)}}let B4=(()=>{var d;class p{constructor(n,r){this.strokeRecognition=n,this.cardsService=r,this.isDrawing=!1,this.strokes=[],this.currentStroke=[],this.drawStartTime=0,this.currentCharacter="",this.promptText="",this.isChecking=!1,this.showResults=!1,this.resultStatus="",this.resultFeedback="",this.strokeCountInfo="",this.topMatches=[],this.displayMatches=[],this.correctFeedback=["\u6b63\u89e3!","\u307e\u308b!","\u306f\u306a\u307e\u308b!","\u3088\u304f\u3084\u3063\u305f!","\u3059\u3054\u3044!","\u304b\u3093\u307a\u304d!","\u3070\u3063\u3061\u308a!","\u305d\u306e\u8abf\u5b50!"],this.wrongFeedback=["\u3061\u304c\u3046!","\u3056\u3093\u306d\u3093!","\u306f\u305a\u308c!","\u3075\u305b\u3044\u304b\u3044!","\u30d0\u30c4!"],this.checkButtonLabels=["\u3088\u3057!","\u5224\u5b9a!","\u3067\u304d\u305f!","\u3044\u3056!","\u78ba\u8a8d"],this.dismissButtonLabels=["\u6b21!","\u3064\u304e!","\u3088\u3057!","\u30aa\u30c3\u30b1\u30fc!","\u306f\u3044!","\u4e86\u89e3!","\u3044\u304f\u305e!"],this.checkButtonText="",this.dismissButtonText="",this.minBrushSize=4,this.maxBrushSize=32,this.brushSmoothing=.05,this.lastBrushSize=0,function(d){Object.keys(d).forEach(function(p){S1(p,d[p]);var A=p.replace(/([a-z0-9]|(?=[A-Z]))([A-Z0-9])/g,"$1-$2").toLowerCase();p!==A&&S1(A,d[p])})}({backspace:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M403.13 96H156.87a44.9 44.9 0 00-33.68 15.27 15.88 15.88 0 00-1.91 2.7L32 247.75a16 16 0 000 16.5l89.15 133.57a16.24 16.24 0 002 2.88 44.89 44.89 0 0033.7 15.3h246.28A44.92 44.92 0 00448 371.13V140.87A44.92 44.92 0 00403.13 96zM348 311a16 16 0 11-22.63 22.62L271.67 280 218 333.65A16 16 0 01195.35 311L249 257.33l-53.69-53.69A16 16 0 01218 181l53.69 53.7 53.67-53.7A16 16 0 01348 203.64l-53.7 53.69z'/></svg>"})}ngOnInit(){var n=this;return(0,U.A)(function*(){n.checkButtonText=n.randomFrom(n.checkButtonLabels),yield n.cardsService.initialize(),n.loadRandomCard()})()}loadRandomCard(){this.currentCard=this.cardsService.getRandomUnlockedCard(),this.currentCard&&(this.currentCharacter=this.currentCard.answer,this.promptText=this.currentCard.prompt)}ngAfterViewInit(){setTimeout(()=>this.setupCanvas(),100)}ngOnDestroy(){this.resizeObserver&&this.resizeObserver.disconnect()}setupCanvas(){const n=this.canvasRef.nativeElement,r=n.parentElement;r&&(this.resizeCanvas(),this.resizeObserver=new ResizeObserver(()=>this.resizeCanvas()),this.resizeObserver.observe(r),this.ctx=n.getContext("2d"),this.setCanvasStyle(),n.addEventListener("mousedown",this.handleMouseDown.bind(this)),n.addEventListener("mousemove",this.handleMouseMove.bind(this)),n.addEventListener("mouseup",this.handleMouseUp.bind(this)),n.addEventListener("mouseleave",this.handleMouseUp.bind(this)),n.addEventListener("touchstart",this.handleTouchStart.bind(this),{passive:!1}),n.addEventListener("touchmove",this.handleTouchMove.bind(this),{passive:!1}),n.addEventListener("touchend",this.handleTouchEnd.bind(this)))}resizeCanvas(){const n=this.canvasRef.nativeElement,r=n.parentElement;r&&(n.width=r.clientWidth,n.height=r.clientHeight,this.ctx&&this.setCanvasStyle())}setCanvasStyle(){this.ctx.fillStyle="#fff",this.ctx.strokeStyle="#fff",this.ctx.lineCap="round",this.ctx.lineJoin="round"}handleMouseDown(n){this.isDrawing=!0;const r=this.getMousePos(n);this.currentStroke=[r],this.lastBrushSize=(this.minBrushSize+this.maxBrushSize)/2,this.drawBrushPoint(r.x,r.y,1.5*this.minBrushSize)}handleMouseMove(n){if(!this.isDrawing)return;const r=this.getMousePos(n),v=this.currentStroke[this.currentStroke.length-1];this.currentStroke.push(r),this.drawBrushSegment(v,r)}handleMouseUp(){this.isDrawing&&this.currentStroke.length>0&&(this.drawHarai(this.currentStroke),this.strokes.push([...this.currentStroke]),this.currentStroke=[]),this.isDrawing=!1}handleTouchStart(n){n.preventDefault(),this.isDrawing=!0;const r=this.getTouchPos(n);this.currentStroke=[r],this.lastBrushSize=(this.minBrushSize+this.maxBrushSize)/2,this.drawBrushPoint(r.x,r.y,1.5*this.minBrushSize)}handleTouchMove(n){if(!this.isDrawing)return;n.preventDefault();const r=this.getTouchPos(n),v=this.currentStroke[this.currentStroke.length-1];this.currentStroke.push(r),this.drawBrushSegment(v,r)}handleTouchEnd(){this.isDrawing&&this.currentStroke.length>0&&(this.drawHarai(this.currentStroke),this.strokes.push([...this.currentStroke]),this.currentStroke=[]),this.isDrawing=!1}getMousePos(n){const r=this.canvasRef.nativeElement,v=r.getBoundingClientRect(),x=r.width/v.width,y=r.height/v.height,b=Date.now();return 0===this.drawStartTime&&(this.drawStartTime=b),{x:(n.clientX-v.left)*x,y:(n.clientY-v.top)*y,t:b-this.drawStartTime}}getTouchPos(n){const r=this.canvasRef.nativeElement,v=r.getBoundingClientRect(),x=r.width/v.width,y=r.height/v.height,b=Date.now();return 0===this.drawStartTime&&(this.drawStartTime=b),{x:(n.touches[0].clientX-v.left)*x,y:(n.touches[0].clientY-v.top)*y,t:b-this.drawStartTime}}calculateBrushSize(n,r){const v=r.x-n.x,x=r.y-n.y,y=Math.max(r.t-n.t,1),C=Math.sqrt(v*v+x*x)/y,S=Math.min(C/1.5,1),q=this.lastBrushSize+(this.maxBrushSize-S*(this.maxBrushSize-this.minBrushSize)-this.lastBrushSize)*this.brushSmoothing;return this.lastBrushSize=q,q}drawBrushPoint(n,r,v){this.ctx.beginPath(),this.ctx.arc(n,r,v/2,0,2*Math.PI),this.ctx.fill()}drawBrushSegment(n,r){const v=this.calculateBrushSize(n,r);this.ctx.lineWidth=v,this.ctx.beginPath(),this.ctx.moveTo(n.x,n.y),this.ctx.lineTo(r.x,r.y),this.ctx.stroke(),this.drawBrushPoint(r.x,r.y,v)}drawHarai(n){if(n.length<3)return;const r=Math.min(5,n.length),v=n.slice(-r),x=v[v.length-1],y=v[0],b=x.x-y.x,C=x.y-y.y,S=Math.sqrt(b*b+C*C);if(S<5)return;const K=b/S,q=C/S,p1=Math.max(x.t-y.t,1),i2=Math.min(S/p1*20,40);if(i2<8)return;const G4=this.lastBrushSize;for(let P2=0;P2<8;P2++){const L4=(P2+1)/8,H4=1-Math.pow(1-P2/8,2),C4=1-Math.pow(1-L4,2),Y4=x.x+K*i2*H4,X4=x.y+q*i2*H4,Q4=x.x+K*i2*C4,Z4=x.y+q*i2*C4,y4=G4*(1-L4);y4>.5&&(this.ctx.lineWidth=y4,this.ctx.beginPath(),this.ctx.moveTo(Y4,X4),this.ctx.lineTo(Q4,Z4),this.ctx.stroke())}}onCheck(){var n=this;return(0,U.A)(function*(){if(0!==n.strokes.length&&n.currentCard){n.isChecking=!0;try{const r=n.canvasRef.nativeElement,v=yield n.strokeRecognition.recognize(n.strokes,r.width,r.height);n.topMatches=v.slice(0,5);const x=n.topMatches.map(C=>C.character),y=x.indexOf(n.currentCharacter);if(y>=0&&y<5)n.resultStatus="correct",n.resultFeedback=n.randomFrom(n.correctFeedback),n.displayMatches=n.topMatches.slice(0,y+1);else{const C=n.currentCard.befuddlers.find(S=>x.includes(S.answer));if(C){n.resultStatus="befuddled",n.resultFeedback=C.toast;const S=x.indexOf(C.answer);n.displayMatches=n.topMatches.slice(0,S+1)}else n.resultStatus="wrong",n.resultFeedback=n.randomFrom(n.wrongFeedback),n.displayMatches=n.topMatches}const b=n.strokeRecognition.getExpectedStrokeCount(n.currentCharacter);n.strokeCountInfo=`Strokes: ${n.strokes.length}/${b}`}catch(r){console.error("Recognition error:",r),n.resultStatus="wrong",n.resultFeedback=r.message||"Recognition failed. Please try on a device.",n.topMatches=[],n.displayMatches=[],n.strokeCountInfo=""}n.isChecking=!1,n.checkButtonText=n.randomFrom(n.checkButtonLabels),n.dismissButtonText=n.randomFrom(n.dismissButtonLabels),n.showResults=!0}})()}dismissResults(){this.showResults=!1,this.clearCanvas(),("correct"===this.resultStatus||"wrong"===this.resultStatus)&&this.loadRandomCard()}onUndo(){this.strokes.length>0&&(this.strokes.pop(),this.redrawStrokes())}redrawStrokes(){const n=this.canvasRef.nativeElement;this.ctx.clearRect(0,0,n.width,n.height),this.setCanvasStyle();for(const r of this.strokes)if(0!==r.length){this.lastBrushSize=(this.minBrushSize+this.maxBrushSize)/2,this.drawBrushPoint(r[0].x,r[0].y,1.5*this.minBrushSize);for(let v=1;v<r.length;v++)this.drawBrushSegment(r[v-1],r[v]);this.drawHarai(r)}}clearCanvas(){const n=this.canvasRef.nativeElement;this.ctx.clearRect(0,0,n.width,n.height),this.strokes=[],this.drawStartTime=0}randomFrom(n){return n[Math.floor(Math.random()*n.length)]}static#a=d=()=>(this.\u0275fac=function(r){return new(r||p)(w.rXU(V4),w.rXU(O4))},this.\u0275cmp=w.VBU({type:p,selectors:[["app-workbook"]],viewQuery:function(r,v){if(1&r&&w.GBs(_4,5),2&r){let x;w.mGM(x=w.lsd())&&(v.canvasRef=x.first)}},decls:14,vars:7,consts:[["canvas",""],[1,"workbook-content",3,"fullscreen","scrollY"],[1,"prompt-bar"],["color","light"],[1,"prompt-text"],[1,"canvas-wrapper"],[1,"drawing-canvas"],["fill","clear",1,"undo-btn",3,"click"],["name","backspace"],["color","primary",1,"check-btn",3,"click","disabled"],["name","crescent",4,"ngIf"],[4,"ngIf"],["class","results-overlay",3,"click",4,"ngIf"],["name","crescent"],[1,"results-overlay",3,"click"],[1,"results-card",3,"click"],[1,"status-display"],[1,"feedback"],[1,"stroke-info"],["class","matches-section",4,"ngIf"],["expand","block",3,"click"],[1,"matches-section"],[1,"matches-title"],[1,"matches-list"],["class","match-item",4,"ngFor","ngForOf"],[1,"match-item"],[1,"match-char"]],template:function(r,v){if(1&r){const x=w.RV6();w.j41(0,"ion-content",1)(1,"div",2),w.nrm(2,"ion-menu-button",3),w.j41(3,"span",4),w.EFF(4),w.k0s()(),w.j41(5,"div",5),w.nrm(6,"canvas",6,0),w.j41(8,"ion-button",7),w.bIt("click",function(){return N.eBV(x),N.Njj(v.onUndo())}),w.nrm(9,"ion-icon",8),w.k0s()(),w.j41(10,"ion-button",9),w.bIt("click",function(){return N.eBV(x),N.Njj(v.onCheck())}),w.DNE(11,q4,1,0,"ion-spinner",10)(12,E4,2,1,"span",11),w.k0s(),w.DNE(13,U4,13,9,"div",12),w.k0s()}2&r&&(w.Y8G("fullscreen",!0)("scrollY",!1),w.R7$(4),w.JRh(v.promptText),w.R7$(6),w.Y8G("disabled",v.isChecking),w.R7$(),w.Y8G("ngIf",v.isChecking),w.R7$(),w.Y8G("ngIf",!v.isChecking),w.R7$(),w.Y8G("ngIf",v.showResults))},dependencies:[a1.W9,a1.MC,a1.Jm,a1.iq,a1.w2,W.MD,W.Sq,W.bT],styles:[".workbook-content[_ngcontent-%COMP%]{--background: #000}.prompt-bar[_ngcontent-%COMP%]{display:flex;align-items:center;height:48px;background:#111;padding:0 8px}.prompt-text[_ngcontent-%COMP%]{flex:1;text-align:center;font-size:28px;color:#fff;margin-right:40px}.canvas-wrapper[_ngcontent-%COMP%]{position:absolute;inset:48px 0 0;background:#000}.drawing-canvas[_ngcontent-%COMP%]{width:100%;height:100%;touch-action:none;display:block}.undo-btn[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;--color: #666;--padding-start: 8px;--padding-end: 8px;font-size:24px}.results-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#000000e6;display:flex;align-items:center;justify-content:center;z-index:100}.results-card[_ngcontent-%COMP%]{background:#1a1a1a;border-radius:16px;padding:24px;min-width:280px;max-width:90%;text-align:center}.results-card.correct[_ngcontent-%COMP%]   .status-display[_ngcontent-%COMP%], .results-card.correct[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{color:#e63946}.results-card.befuddled[_ngcontent-%COMP%]   .status-display[_ngcontent-%COMP%], .results-card.befuddled[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{color:#f7b731}.results-card.wrong[_ngcontent-%COMP%]   .status-display[_ngcontent-%COMP%], .results-card.wrong[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{color:#4a90d9}.status-display[_ngcontent-%COMP%]{font-size:64px;font-weight:700;margin-bottom:8px}.feedback[_ngcontent-%COMP%]{font-family:Shippori Mincho,serif;font-size:18px;margin-bottom:16px;white-space:pre-line}.stroke-info[_ngcontent-%COMP%]{font-size:14px;color:#888;margin-bottom:20px}.matches-section[_ngcontent-%COMP%]{border-top:1px solid #333;padding-top:16px;margin-bottom:20px}.matches-title[_ngcontent-%COMP%]{font-size:12px;color:#666;text-transform:uppercase;letter-spacing:1px;margin-bottom:12px}.matches-list[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:16px}.match-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.match-char[_ngcontent-%COMP%]{font-size:32px;color:#fff}.check-btn[_ngcontent-%COMP%]{position:absolute;bottom:32px;left:50%;transform:translate(-50%);--background: #222;--background-hover: #333;--color: #fff;--border-radius: 32px;--padding-start: 12vw;--padding-end: 12vw;--padding-top: 16px;--padding-bottom: 16px;min-height:60px;font-family:Shippori Mincho,serif;font-size:clamp(20px,5vw,28px);font-weight:600;letter-spacing:2px}.results-card[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-family:Shippori Mincho,serif;font-weight:700}"]}))}return d(),p})();const I4=[{path:"",component:B4}];let K4=(()=>{var d;class p{static#a=d=()=>(this.\u0275fac=function(r){return new(r||p)},this.\u0275mod=w.$C({type:p}),this.\u0275inj=N.G2t({imports:[l1.iI.forChild(I4),l1.iI]}))}return d(),p})(),W4=(()=>{var d;class p{static#a=d=()=>(this.\u0275fac=function(r){return new(r||p)},this.\u0275mod=w.$C({type:p}),this.\u0275inj=N.G2t({imports:[W.MD,e1.YN,v1.bv,K4,B4]}))}return d(),p})()},6490(){},7920(){},9234(){},9293(J){function F1(W,e1,v1,l1,U,a1,D){try{var n1=W[a1](D),e=n1.value}catch(S1){return void v1(S1)}n1.done?e1(e):Promise.resolve(e).then(l1,U)}J.exports=function R(W){return function(){var e1=this,v1=arguments;return new Promise(function(l1,U){var a1=W.apply(e1,v1);function D(e){F1(a1,l1,U,D,n1,"next",e)}function n1(e){F1(a1,l1,U,D,n1,"throw",e)}D(void 0)})}},J.exports.__esModule=!0,J.exports.default=J.exports}}]);