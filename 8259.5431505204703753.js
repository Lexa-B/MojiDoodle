"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8259],{8259(G,S,v){v.d(S,{WorkbookPageModule:()=>W});var x,d=v(2200),j=v(4341),O=v(7343),z=v(8132),f=v(467),w=v(3112),L=function(i,n){var l=function(){if(typeof window>"u")return new Map;if(!x){var i=window;i.Ionicons=i.Ionicons||{},x=i.Ionicons.map=i.Ionicons.map||new Map}return x}(),o=l.get(i);void 0===o?l.set(i,n):o!==n&&console.warn('[Ionicons Warning]: Multiple icons were mapped to name "'.concat(i,'". Ensure that multiple icons are not mapped to the same icon name.'))},a=v(3664),e=v(2615);let V=(()=>{var i;class n{constructor(){this.lessons=[{id:"h-a",prompt:"A (Hiragana)",answer:"\u3042",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30a2",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u304a",toast:'That\'s "O", not "A"!\nLook at the right side - this one has a loop.'}]},{id:"h-i",prompt:"I (Hiragana)",answer:"\u3044",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30a4",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u308a",toast:'That\'s "RI"!\nThis one has connected strokes.'}]},{id:"h-u",prompt:"U (Hiragana)",answer:"\u3046",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30a6",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."}]},{id:"h-e",prompt:"E (Hiragana)",answer:"\u3048",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30a8",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3093",toast:'That\'s "N"!\nThis one curves smoothly without a top line.'}]},{id:"h-o",prompt:"O (Hiragana)",answer:"\u304a",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30aa",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3042",toast:'That\'s "A", not "O"!\nThis one has a more open shape without the loop.'}]},{id:"h-ka",prompt:"KA (Hiragana)",answer:"\u304b",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30ab",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u304c",toast:'That\'s "GA"!\nThis one has dakuten (\u309b) marks.'}]},{id:"h-ki",prompt:"KI (Hiragana)",answer:"\u304d",hint:"4 strokes",strokeCount:4,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u30ad",toast:"That's katakana!\nThe prompt asks for hiragana, which is curvy."},{answer:"\u3055",toast:'That\'s "SA"!\nThis one has a simpler top.'}]},{id:"k-a",prompt:"A (Katakana)",answer:"\u30a2",hint:"2 strokes, angular",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3042",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30de",toast:'That\'s "MA"!\nSimilar angle, but different structure.'}]},{id:"k-i",prompt:"I (Katakana)",answer:"\u30a4",hint:"2 strokes",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3044",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."}]},{id:"k-u",prompt:"U (Katakana)",answer:"\u30a6",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3046",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30ef",toast:'That\'s "WA"!\nThis one has no top line.'}]},{id:"k-e",prompt:"E (Katakana)",answer:"\u30a8",hint:"3 strokes, like I-beam",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u3048",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."}]},{id:"k-o",prompt:"O (Katakana)",answer:"\u30aa",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u304a",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30db",toast:'That\'s "HO"!\nThis one has an extra vertical stroke splitting the bottom.'}]},{id:"k-ka",prompt:"KA (Katakana)",answer:"\u30ab",hint:"2 strokes, angular",strokeCount:2,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u304b",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."},{answer:"\u30ac",toast:'That\'s "GA"!\nThis one has dakuten (\u309b) marks.'}]},{id:"k-ki",prompt:"KI (Katakana)",answer:"\u30ad",hint:"3 strokes",strokeCount:3,stage:0,unlocks:"2026-01-29T12:06:14+00:00",befuddlers:[{answer:"\u304d",toast:"That's hiragana!\nThe prompt asks for katakana, which is angular."}]},{id:"kj-ichi",prompt:"One (Number)",answer:"\u4e00",hint:"Single horizontal stroke",strokeCount:1,stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[]},{id:"kj-ni",prompt:"Two (Number)",answer:"\u4e8c",hint:"Two horizontal strokes",strokeCount:2,stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[]},{id:"kj-san",prompt:"Three (Number)",answer:"\u4e09",hint:"Three horizontal strokes",strokeCount:3,stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[]},{id:"kj-hi",prompt:"Sun / Day",answer:"\u65e5",hint:"4 strokes, box shape",strokeCount:4,stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u76ee",toast:'That means "eye"!\nThis one has an extra horizontal line inside.'}]},{id:"kj-tsuki",prompt:"Moon / Month",answer:"\u6708",hint:"4 strokes",strokeCount:4,stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u65e5",toast:'That means "sun/day"!\nThis one is more square-shaped.'}]},{id:"kj-yama",prompt:"Mountain",answer:"\u5c71",hint:"3 strokes, looks like peaks",strokeCount:3,stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[]},{id:"kj-kawa",prompt:"River",answer:"\u5ddd",hint:"3 vertical strokes",strokeCount:3,stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[]},{id:"kj-ki",prompt:"Tree / Wood",answer:"\u6728",hint:"4 strokes",strokeCount:4,stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u672c",toast:'That means "book/origin"!\nThis one has an extra stroke at the bottom.'}]},{id:"kw-koohii",prompt:"Coffee",answer:"\u30b3\u30fc\u30d2\u30fc",hint:"ko-hi- with long vowels",stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u30b3\u30b3\u30a2",toast:'That\'s "cocoa/hot chocolate"!\nThink caffeinated drink from beans.'}]},{id:"kw-terebi",prompt:"Television",answer:"\u30c6\u30ec\u30d3",hint:"te-re-bi",stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u30e9\u30b8\u30aa",toast:'That\'s "radio" (audio only)!\nThe prompt asks for the device with a screen.'}]},{id:"kw-konpyuutaa",prompt:"Computer",answer:"\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc",hint:"kon-pyu-u-ta-a",stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u30b9\u30de\u30db",toast:'That\'s "smartphone"!\nThe prompt asks for the larger device.'}]},{id:"kw-pan",prompt:"Bread",answer:"\u30d1\u30f3",hint:'From Portuguese "p\xe3o"',stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u3054\u306f\u3093",toast:'That\'s "rice"!\nThe prompt asks for the wheat-based food.'}]},{id:"kw-aisu",prompt:"Ice Cream",answer:"\u30a2\u30a4\u30b9",hint:"a-i-su",stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[]},{id:"kjw-omou",prompt:"To Think (Opinion/Feeling)",answer:"\u601d\u3046",hint:"omou - subjective thinking",stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u8003\u3048\u308b",toast:'That\'s "to reason/consider"!\nThis one is for thinking through a problem logically.'},{answer:"\u77e5\u3063\u3066\u3044\u308b",toast:'That\'s "to know"!\nThis one is about having information, not forming thoughts.'}]},{id:"kjw-taberu",prompt:"To Eat",answer:"\u98df\u3079\u308b",hint:"taberu",stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u98f2\u3080",toast:'That\'s "to drink"!\nThe prompt asks about solid food.'}]},{id:"kjw-miru",prompt:"To See / Watch",answer:"\u898b\u308b",hint:"miru",stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u805e\u304f",toast:'That\'s "to hear/listen"!\nThe prompt asks about visual perception.'}]},{id:"kjw-iku",prompt:"To Go",answer:"\u884c\u304f",hint:"iku",stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u6765\u308b",toast:'That\'s "to come"!\nThis one means movement toward the speaker.'}]},{id:"kjw-kuru",prompt:"To Come",answer:"\u6765\u308b",hint:"kuru",stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u884c\u304f",toast:'That\'s "to go"!\nThis one means movement away from the speaker.'}]},{id:"kjw-nihon",prompt:"Japan",answer:"\u65e5\u672c",hint:'nihon - "sun origin"',stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u65e5\u66dc\u65e5",toast:'That\'s "Sunday"!\nThe prompt asks for a country, not a day.'}]},{id:"kjw-sensei",prompt:"Teacher",answer:"\u5148\u751f",hint:"sensei",stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u5b66\u751f",toast:'That\'s "student"!\nThe prompt asks for the one who teaches.'}]},{id:"kjw-gakusei",prompt:"Student",answer:"\u5b66\u751f",hint:"gakusei",stage:-1,unlocks:"9999-12-31T23:59:59+00:00",befuddlers:[{answer:"\u5148\u751f",toast:'That\'s "teacher"!\nThe prompt asks for the one who learns.'}]}]}getAllLessons(){return this.lessons}getLessonById(o){return this.lessons.find(s=>s.id===o)}getLessonsByStage(o){return this.lessons.filter(s=>s.stage===o)}getAvailableLessons(){return this.lessons.filter(o=>o.stage>=0)}getUnlockedLessons(){const o=new Date;return this.lessons.filter(s=>s.stage>=0&&new Date(s.unlocks)<=o)}getRandomUnlockedLesson(){const o=this.getUnlockedLessons();if(0!==o.length)return o[Math.floor(Math.random()*o.length)]}getLessonByAnswer(o){return this.lessons.find(s=>s.answer===o)}setLessonStage(o,s){const t=this.lessons.find(c=>c.id===o);t&&(t.stage=s)}getStrokeCount(o){return this.lessons.find(t=>t.answer===o)?.strokeCount??0}static#o=i=()=>(this.\u0275fac=function(s){return new(s||n)},this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}))}return i(),n})(),D=(()=>{var i;class n{constructor(o){this.lessonsService=o,this.API_URL="https://inputtools.google.com/request?itc=ja-t-i0-handwrit&app=translate"}recognize(o,s,t){var c=this;return(0,f.A)(function*(){if(0===o.length)return[];const r=o.map(h=>{const p=[],A=[],y=[];for(const k of h)p.push(Math.round(k.x)),A.push(Math.round(k.y)),y.push(k.t);return[p,A,y]}),g={app_version:.4,api_level:"537.36",device:navigator.userAgent,input_type:0,options:"enable_pre_space",requests:[{max_completions:0,max_num_results:10,pre_context:"",writing_guide:{writing_area_height:t,writing_area_width:s},ink:r}]};try{const p=yield(yield fetch(c.API_URL,{method:"POST",body:JSON.stringify(g),headers:{"Content-Type":"application/json"}})).json();return c.parseResponse(p)}catch(h){throw console.error("Recognition failed:",h),new Error("Handwriting recognition failed. Please check your internet connection.")}})()}parseResponse(o){if(!o||"SUCCESS"!==o[0])return[];const s=o[1]?.[0]?.[1];return s&&0!==s.length?s.map((t,c)=>({character:t,score:Math.max(100-10*c,10)})):[]}getExpectedStrokeCount(o){return this.lessonsService.getStrokeCount(o)}static#o=i=()=>(this.\u0275fac=function(s){return new(s||n)(e.KVO(V))},this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}))}return i(),n})();const R=["canvas"];function _(i,n){1&i&&a.nrm(0,"ion-spinner",13)}function P(i,n){1&i&&(a.j41(0,"span"),a.EFF(1,"CHECK!"),a.k0s())}function U(i,n){if(1&i&&(a.j41(0,"div",26)(1,"span",27),a.EFF(2),a.k0s(),a.j41(3,"span",28),a.EFF(4),a.k0s()()),2&i){const l=n.$implicit;a.R7$(2),a.JRh(l.character),a.R7$(2),a.SpI("",l.score,"%")}}function E(i,n){if(1&i){const l=a.RV6();a.j41(0,"div",14),a.bIt("click",function(){e.eBV(l);const s=a.XpG();return e.Njj(s.dismissResults())}),a.j41(1,"div",15),a.bIt("click",function(s){return e.eBV(l),e.Njj(s.stopPropagation())}),a.j41(2,"div",16)(3,"div",17),a.EFF(4),a.k0s(),a.j41(5,"div",18),a.EFF(6,"/ 100"),a.k0s()(),a.j41(7,"div",19),a.EFF(8),a.k0s(),a.j41(9,"div",20),a.EFF(10),a.k0s(),a.j41(11,"div",21)(12,"div",22),a.EFF(13,"Closest matches:"),a.k0s(),a.j41(14,"div",23),a.DNE(15,U,5,2,"div",24),a.k0s()(),a.j41(16,"ion-button",25),a.bIt("click",function(){e.eBV(l);const s=a.XpG();return e.Njj(s.dismissResults())}),a.EFF(17,"OK"),a.k0s()()()}if(2&i){const l=a.XpG();a.R7$(4),a.JRh(l.resultScore),a.R7$(4),a.JRh(l.resultFeedback),a.R7$(2),a.JRh(l.strokeCountInfo),a.R7$(5),a.Y8G("ngForOf",l.topMatches)}}let C=(()=>{var i;class n{constructor(o,s){this.strokeRecognition=o,this.lessonsService=s,this.isDrawing=!1,this.strokes=[],this.currentStroke=[],this.drawStartTime=0,this.currentCharacter="",this.promptText="",this.isChecking=!1,this.showResults=!1,this.resultScore=0,this.resultFeedback="",this.strokeCountInfo="",this.topMatches=[],function(i){Object.keys(i).forEach(function(n){L(n,i[n]);var l=n.replace(/([a-z0-9]|(?=[A-Z]))([A-Z0-9])/g,"$1-$2").toLowerCase();n!==l&&L(l,i[n])})}({backspace:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M403.13 96H156.87a44.9 44.9 0 00-33.68 15.27 15.88 15.88 0 00-1.91 2.7L32 247.75a16 16 0 000 16.5l89.15 133.57a16.24 16.24 0 002 2.88 44.89 44.89 0 0033.7 15.3h246.28A44.92 44.92 0 00448 371.13V140.87A44.92 44.92 0 00403.13 96zM348 311a16 16 0 11-22.63 22.62L271.67 280 218 333.65A16 16 0 01195.35 311L249 257.33l-53.69-53.69A16 16 0 01218 181l53.69 53.7 53.67-53.7A16 16 0 01348 203.64l-53.7 53.69z'/></svg>"})}ngOnInit(){this.loadRandomLesson()}loadRandomLesson(){this.currentLesson=this.lessonsService.getRandomUnlockedLesson(),this.currentLesson&&(this.currentCharacter=this.currentLesson.answer,this.promptText=this.currentLesson.prompt)}ngAfterViewInit(){setTimeout(()=>this.setupCanvas(),100)}ngOnDestroy(){this.resizeObserver&&this.resizeObserver.disconnect()}setupCanvas(){const o=this.canvasRef.nativeElement,s=o.parentElement;s&&(this.resizeCanvas(),this.resizeObserver=new ResizeObserver(()=>this.resizeCanvas()),this.resizeObserver.observe(s),this.ctx=o.getContext("2d"),this.setCanvasStyle(),o.addEventListener("mousedown",this.handleMouseDown.bind(this)),o.addEventListener("mousemove",this.handleMouseMove.bind(this)),o.addEventListener("mouseup",this.handleMouseUp.bind(this)),o.addEventListener("mouseleave",this.handleMouseUp.bind(this)),o.addEventListener("touchstart",this.handleTouchStart.bind(this),{passive:!1}),o.addEventListener("touchmove",this.handleTouchMove.bind(this),{passive:!1}),o.addEventListener("touchend",this.handleTouchEnd.bind(this)))}resizeCanvas(){const o=this.canvasRef.nativeElement,s=o.parentElement;s&&(o.width=s.clientWidth,o.height=s.clientHeight,this.ctx&&this.setCanvasStyle())}setCanvasStyle(){this.ctx.strokeStyle="#fff",this.ctx.lineWidth=4,this.ctx.lineCap="round",this.ctx.lineJoin="round"}handleMouseDown(o){this.isDrawing=!0;const s=this.getMousePos(o);this.currentStroke=[s],this.ctx.beginPath(),this.ctx.moveTo(s.x,s.y)}handleMouseMove(o){if(!this.isDrawing)return;const s=this.getMousePos(o);this.currentStroke.push(s),this.ctx.lineTo(s.x,s.y),this.ctx.stroke()}handleMouseUp(){this.isDrawing&&this.currentStroke.length>0&&(this.strokes.push([...this.currentStroke]),this.currentStroke=[]),this.isDrawing=!1}handleTouchStart(o){o.preventDefault(),this.isDrawing=!0;const s=this.getTouchPos(o);this.currentStroke=[s],this.ctx.beginPath(),this.ctx.moveTo(s.x,s.y)}handleTouchMove(o){if(!this.isDrawing)return;o.preventDefault();const s=this.getTouchPos(o);this.currentStroke.push(s),this.ctx.lineTo(s.x,s.y),this.ctx.stroke()}handleTouchEnd(){this.isDrawing&&this.currentStroke.length>0&&(this.strokes.push([...this.currentStroke]),this.currentStroke=[]),this.isDrawing=!1}getMousePos(o){const s=this.canvasRef.nativeElement,t=s.getBoundingClientRect(),c=s.width/t.width,r=s.height/t.height,g=Date.now();return 0===this.drawStartTime&&(this.drawStartTime=g),{x:(o.clientX-t.left)*c,y:(o.clientY-t.top)*r,t:g-this.drawStartTime}}getTouchPos(o){const s=this.canvasRef.nativeElement,t=s.getBoundingClientRect(),c=s.width/t.width,r=s.height/t.height,g=Date.now();return 0===this.drawStartTime&&(this.drawStartTime=g),{x:(o.touches[0].clientX-t.left)*c,y:(o.touches[0].clientY-t.top)*r,t:g-this.drawStartTime}}onCheck(){var o=this;return(0,f.A)(function*(){if(0!==o.strokes.length){o.isChecking=!0;try{const s=o.canvasRef.nativeElement,t=yield o.strokeRecognition.recognize(o.strokes,s.width,s.height),c=t.find(h=>h.character===o.currentCharacter),r=t[0];c&&0===t.indexOf(c)?(o.resultScore=100,o.resultFeedback="\u7d20\u6674\u3089\u3057\u3044! (Excellent!)"):c&&t.indexOf(c)<=2?(o.resultScore=70,o.resultFeedback="\u3044\u3044\u306d! (Good!)"):r?(o.resultScore=30,o.resultFeedback=`Recognized as: ${r.character}`):(o.resultScore=0,o.resultFeedback="\u3082\u3046\u4e00\u5ea6 (Try again!)");const g=o.strokeRecognition.getExpectedStrokeCount(o.currentCharacter);o.strokeCountInfo=`Strokes: ${o.strokes.length}/${g}`,o.topMatches=t.slice(0,5)}catch(s){console.error("Recognition error:",s),o.resultScore=0,o.resultFeedback=s.message||"Recognition failed. Please try on a device.",o.topMatches=[],o.strokeCountInfo=""}o.isChecking=!1,o.showResults=!0}})()}dismissResults(){this.showResults=!1}onUndo(){this.strokes.length>0&&(this.strokes.pop(),this.redrawStrokes())}redrawStrokes(){const o=this.canvasRef.nativeElement;this.ctx.clearRect(0,0,o.width,o.height),this.setCanvasStyle();for(const s of this.strokes)if(!(s.length<2)){this.ctx.beginPath(),this.ctx.moveTo(s[0].x,s[0].y);for(let t=1;t<s.length;t++)this.ctx.lineTo(s[t].x,s[t].y);this.ctx.stroke()}}clearCanvas(){const o=this.canvasRef.nativeElement;this.ctx.clearRect(0,0,o.width,o.height),this.strokes=[],this.drawStartTime=0}static#o=i=()=>(this.\u0275fac=function(s){return new(s||n)(a.rXU(D),a.rXU(V))},this.\u0275cmp=a.VBU({type:n,selectors:[["app-workbook"]],viewQuery:function(s,t){if(1&s&&a.GBs(R,5),2&s){let c;a.mGM(c=a.lsd())&&(t.canvasRef=c.first)}},decls:14,vars:7,consts:[["canvas",""],[1,"workbook-content",3,"fullscreen","scrollY"],[1,"prompt-bar"],["color","light"],[1,"prompt-text"],[1,"canvas-wrapper"],[1,"drawing-canvas"],["fill","clear",1,"undo-btn",3,"click"],["name","backspace"],[1,"check-btn",3,"click","disabled"],["name","crescent",4,"ngIf"],[4,"ngIf"],["class","results-overlay",3,"click",4,"ngIf"],["name","crescent"],[1,"results-overlay",3,"click"],[1,"results-card",3,"click"],[1,"score-display"],[1,"score-number"],[1,"score-label"],[1,"feedback"],[1,"stroke-info"],[1,"matches-section"],[1,"matches-title"],[1,"matches-list"],["class","match-item",4,"ngFor","ngForOf"],["expand","block",3,"click"],[1,"match-item"],[1,"match-char"],[1,"match-score"]],template:function(s,t){if(1&s){const c=a.RV6();a.j41(0,"ion-content",1)(1,"div",2),a.nrm(2,"ion-menu-button",3),a.j41(3,"span",4),a.EFF(4),a.k0s()(),a.j41(5,"div",5),a.nrm(6,"canvas",6,0),a.j41(8,"ion-button",7),a.bIt("click",function(){return e.eBV(c),e.Njj(t.onUndo())}),a.nrm(9,"ion-icon",8),a.k0s()(),a.j41(10,"ion-button",9),a.bIt("click",function(){return e.eBV(c),e.Njj(t.onCheck())}),a.DNE(11,_,1,0,"ion-spinner",10)(12,P,2,0,"span",11),a.k0s(),a.DNE(13,E,18,4,"div",12),a.k0s()}2&s&&(a.Y8G("fullscreen",!0)("scrollY",!1),a.R7$(4),a.JRh(t.promptText),a.R7$(6),a.Y8G("disabled",t.isChecking),a.R7$(),a.Y8G("ngIf",t.isChecking),a.R7$(),a.Y8G("ngIf",!t.isChecking),a.R7$(),a.Y8G("ngIf",t.showResults))},dependencies:[w.W9,w.MC,w.Jm,w.iq,w.w2,d.MD,d.Sq,d.bT],styles:[".workbook-content[_ngcontent-%COMP%]{--background: #000}.prompt-bar[_ngcontent-%COMP%]{display:flex;align-items:center;height:48px;background:#111;padding:0 8px}.prompt-text[_ngcontent-%COMP%]{flex:1;text-align:center;font-size:28px;color:#fff;margin-right:40px}.canvas-wrapper[_ngcontent-%COMP%]{position:absolute;inset:48px 0 0;background:#000}.drawing-canvas[_ngcontent-%COMP%]{width:100%;height:100%;touch-action:none;display:block}.undo-btn[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;--color: #666;--padding-start: 8px;--padding-end: 8px;font-size:24px}.results-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#000000e6;display:flex;align-items:center;justify-content:center;z-index:100}.results-card[_ngcontent-%COMP%]{background:#1a1a1a;border-radius:16px;padding:24px;min-width:280px;max-width:90%;text-align:center}.score-display[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:center;margin-bottom:8px}.score-number[_ngcontent-%COMP%]{font-size:72px;font-weight:700;color:#fff}.score-label[_ngcontent-%COMP%]{font-size:24px;color:#666;margin-left:4px}.feedback[_ngcontent-%COMP%]{font-size:20px;color:#4ecdc4;margin-bottom:16px}.stroke-info[_ngcontent-%COMP%]{font-size:14px;color:#888;margin-bottom:20px}.matches-section[_ngcontent-%COMP%]{border-top:1px solid #333;padding-top:16px;margin-bottom:20px}.matches-title[_ngcontent-%COMP%]{font-size:12px;color:#666;text-transform:uppercase;letter-spacing:1px;margin-bottom:12px}.matches-list[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:16px}.match-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.match-char[_ngcontent-%COMP%]{font-size:32px;color:#fff}.match-score[_ngcontent-%COMP%]{font-size:12px;color:#888}.check-btn[_ngcontent-%COMP%]{position:absolute;bottom:32px;left:50%;transform:translate(-50%);--background: #222;--background-hover: #333;--color: #fff;--border-radius: 32px;--padding-start: 12vw;--padding-end: 12vw;--padding-top: 16px;--padding-bottom: 16px;min-height:60px;font-size:clamp(20px,5vw,28px);font-weight:600;letter-spacing:2px}"]}))}return i(),n})();const I=[{path:"",component:C}];let N=(()=>{var i;class n{static#o=i=()=>(this.\u0275fac=function(s){return new(s||n)},this.\u0275mod=a.$C({type:n}),this.\u0275inj=e.G2t({imports:[z.iI.forChild(I),z.iI]}))}return i(),n})(),W=(()=>{var i;class n{static#o=i=()=>(this.\u0275fac=function(s){return new(s||n)},this.\u0275mod=a.$C({type:n}),this.\u0275inj=e.G2t({imports:[d.MD,j.YN,O.bv,N,C]}))}return i(),n})()}}]);